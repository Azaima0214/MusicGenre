{"remainingRequest":"/Users/k17070kk/Flask_Predict_App-master/node_modules/babel-loader/lib/index.js!/Users/k17070kk/Flask_Predict_App-master/node_modules/quasar/src/components/select/QSelect.js","dependencies":[{"path":"/Users/k17070kk/Flask_Predict_App-master/node_modules/quasar/src/components/select/QSelect.js","mtime":499162500000},{"path":"/Users/k17070kk/Flask_Predict_App-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k17070kk/Flask_Predict_App-master/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvazE3MDcwa2svRmxhc2tfUHJlZGljdF9BcHAtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvazE3MDcwa2svRmxhc2tfUHJlZGljdF9BcHAtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFFGaWVsZCBmcm9tICcuLi9maWVsZC9RRmllbGQuanMnOwppbXBvcnQgUUljb24gZnJvbSAnLi4vaWNvbi9RSWNvbi5qcyc7CmltcG9ydCBRQ2hpcCBmcm9tICcuLi9jaGlwL1FDaGlwLmpzJzsKaW1wb3J0IFFJdGVtIGZyb20gJy4uL2l0ZW0vUUl0ZW0uanMnOwppbXBvcnQgUUl0ZW1TZWN0aW9uIGZyb20gJy4uL2l0ZW0vUUl0ZW1TZWN0aW9uLmpzJzsKaW1wb3J0IFFJdGVtTGFiZWwgZnJvbSAnLi4vaXRlbS9RSXRlbUxhYmVsLmpzJzsKaW1wb3J0IFFNZW51IGZyb20gJy4uL21lbnUvUU1lbnUuanMnOwppbXBvcnQgUURpYWxvZyBmcm9tICcuLi9kaWFsb2cvUURpYWxvZy5qcyc7CmltcG9ydCB7IGlzRGVlcEVxdWFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnOwppbXBvcnQgeyBzdG9wLCBwcmV2ZW50LCBzdG9wQW5kUHJldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IHsgbm9ybWFsaXplVG9JbnRlcnZhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdC5qcyc7CmltcG9ydCB7IHNob3VsZElnbm9yZUtleSwgaXNLZXlDb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMva2V5LWNvbXBvc2l0aW9uLmpzJzsKaW1wb3J0IHsgbWVyZ2VTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvc2xvdC5qcyc7CmltcG9ydCB7IGNhY2hlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdm0uanMnOwppbXBvcnQgVmlydHVhbFNjcm9sbCBmcm9tICcuLi8uLi9taXhpbnMvdmlydHVhbC1zY3JvbGwuanMnOwppbXBvcnQgQ29tcG9zaXRpb25NaXhpbiBmcm9tICcuLi8uLi9taXhpbnMvY29tcG9zaXRpb24uanMnOwoKdmFyIHZhbGlkYXRlTmV3VmFsdWVNb2RlID0gZnVuY3Rpb24gdmFsaWRhdGVOZXdWYWx1ZU1vZGUodikgewogIHJldHVybiBbJ2FkZCcsICdhZGQtdW5pcXVlJywgJ3RvZ2dsZSddLmluY2x1ZGVzKHYpOwp9OwoKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1FTZWxlY3QnLAogIG1peGluczogW1FGaWVsZCwgVmlydHVhbFNjcm9sbCwgQ29tcG9zaXRpb25NaXhpbl0sCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbXVsdGlwbGU6IEJvb2xlYW4sCiAgICBkaXNwbGF5VmFsdWU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICBkaXNwbGF5VmFsdWVTYW5pdGl6ZTogQm9vbGVhbiwKICAgIGRyb3Bkb3duSWNvbjogU3RyaW5nLAogICAgb3B0aW9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgb3B0aW9uVmFsdWU6IFtGdW5jdGlvbiwgU3RyaW5nXSwKICAgIG9wdGlvbkxhYmVsOiBbRnVuY3Rpb24sIFN0cmluZ10sCiAgICBvcHRpb25EaXNhYmxlOiBbRnVuY3Rpb24sIFN0cmluZ10sCiAgICBoaWRlU2VsZWN0ZWQ6IEJvb2xlYW4sCiAgICBoaWRlRHJvcGRvd25JY29uOiBCb29sZWFuLAogICAgZmlsbElucHV0OiBCb29sZWFuLAogICAgbWF4VmFsdWVzOiBbTnVtYmVyLCBTdHJpbmddLAogICAgb3B0aW9uc0RlbnNlOiBCb29sZWFuLAogICAgb3B0aW9uc0Rhcms6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIG9wdGlvbnNTZWxlY3RlZENsYXNzOiBTdHJpbmcsCiAgICBvcHRpb25zQ292ZXI6IEJvb2xlYW4sCiAgICBvcHRpb25zU2FuaXRpemU6IEJvb2xlYW4sCiAgICBwb3B1cENvbnRlbnRDbGFzczogU3RyaW5nLAogICAgcG9wdXBDb250ZW50U3R5bGU6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgdXNlSW5wdXQ6IEJvb2xlYW4sCiAgICB1c2VDaGlwczogQm9vbGVhbiwKICAgIG5ld1ZhbHVlTW9kZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVOZXdWYWx1ZU1vZGUKICAgIH0sCiAgICBtYXBPcHRpb25zOiBCb29sZWFuLAogICAgZW1pdFZhbHVlOiBCb29sZWFuLAogICAgaW5wdXREZWJvdW5jZTogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiA1MDAKICAgIH0sCiAgICBpbnB1dENsYXNzOiBbQXJyYXksIFN0cmluZywgT2JqZWN0XSwKICAgIGlucHV0U3R5bGU6IFtBcnJheSwgU3RyaW5nLCBPYmplY3RdLAogICAgdGFiaW5kZXg6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHRyYW5zaXRpb25TaG93OiBTdHJpbmcsCiAgICB0cmFuc2l0aW9uSGlkZTogU3RyaW5nLAogICAgYmVoYXZpb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2KSB7CiAgICAgICAgcmV0dXJuIFsnZGVmYXVsdCcsICdtZW51JywgJ2RpYWxvZyddLmluY2x1ZGVzKHYpOwogICAgICB9LAogICAgICBkZWZhdWx0OiAnZGVmYXVsdCcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZW51OiBmYWxzZSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgb3B0aW9uSW5kZXg6IC0xLAogICAgICBpbnB1dFZhbHVlOiAnJywKICAgICAgZGlhbG9nRmllbGRGb2N1c2VkOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBpbm5lclZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5pbm5lclZhbHVlQ2FjaGUgPSB2YWw7CgogICAgICAgIGlmICh0aGlzLnVzZUlucHV0ID09PSB0cnVlICYmIHRoaXMuZmlsbElucHV0ID09PSB0cnVlICYmIHRoaXMubXVsdGlwbGUgIT09IHRydWUgJiYgLy8gUHJldmVudCByZS1lbnRlcmluZyBpbiBmaWx0ZXIgd2hpbGUgZmlsdGVyaW5nCiAgICAgICAgLy8gQWxzbyBwcmV2ZW50IGNsZWFyaW5nIGlucHV0VmFsdWUgd2hpbGUgZmlsdGVyaW5nCiAgICAgICAgdGhpcy5pbm5lckxvYWRpbmcgIT09IHRydWUgJiYgKHRoaXMuZGlhbG9nICE9PSB0cnVlICYmIHRoaXMubWVudSAhPT0gdHJ1ZSB8fCB0aGlzLmhhc1ZhbHVlICE9PSB0cnVlKSkgewogICAgICAgICAgdGhpcy5fX3Jlc2V0SW5wdXRWYWx1ZSgpOwoKICAgICAgICAgIGlmICh0aGlzLmRpYWxvZyA9PT0gdHJ1ZSB8fCB0aGlzLm1lbnUgPT09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5maWx0ZXIoJycpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgbWVudTogZnVuY3Rpb24gbWVudShzaG93KSB7CiAgICAgIHRoaXMuX191cGRhdGVNZW51KHNob3cpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzT3B0aW9uc0Rhcms6IGZ1bmN0aW9uIGlzT3B0aW9uc0RhcmsoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNEYXJrID09PSBudWxsID8gdGhpcy5pc0RhcmsgOiB0aGlzLm9wdGlvbnNEYXJrOwogICAgfSwKICAgIHZpcnR1YWxTY3JvbGxMZW5ndGg6IGZ1bmN0aW9uIHZpcnR1YWxTY3JvbGxMZW5ndGgoKSB7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucykgPyB0aGlzLm9wdGlvbnMubGVuZ3RoIDogMDsKICAgIH0sCiAgICBmaWVsZENsYXNzOiBmdW5jdGlvbiBmaWVsZENsYXNzKCkgewogICAgICByZXR1cm4gInEtc2VsZWN0IHEtZmllbGQtLWF1dG8taGVpZ2h0IHEtc2VsZWN0LS13aXRoIi5jb25jYXQodGhpcy51c2VJbnB1dCAhPT0gdHJ1ZSA/ICdvdXQnIDogJycsICItaW5wdXQiKTsKICAgIH0sCiAgICBjb21wdXRlZElucHV0Q2xhc3M6IGZ1bmN0aW9uIGNvbXB1dGVkSW5wdXRDbGFzcygpIHsKICAgICAgaWYgKHRoaXMuaGlkZVNlbGVjdGVkID09PSB0cnVlIHx8IHRoaXMuaW5uZXJWYWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5pbnB1dENsYXNzOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5pbnB1dENsYXNzID09PSB2b2lkIDAgPyAncS1maWVsZF9faW5wdXQtLXBhZGRpbmcnIDogW3RoaXMuaW5wdXRDbGFzcywgJ3EtZmllbGRfX2lucHV0LS1wYWRkaW5nJ107CiAgICB9LAogICAgbWVudUNvbnRlbnRDbGFzczogZnVuY3Rpb24gbWVudUNvbnRlbnRDbGFzcygpIHsKICAgICAgcmV0dXJuICh0aGlzLnZpcnR1YWxTY3JvbGxIb3Jpem9udGFsID09PSB0cnVlID8gJ3EtdmlydHVhbC1zY3JvbGwtLWhvcml6b250YWwnIDogJycpICsgKHRoaXMucG9wdXBDb250ZW50Q2xhc3MgPyAnICcgKyB0aGlzLnBvcHVwQ29udGVudENsYXNzIDogJycpOwogICAgfSwKICAgIGlubmVyVmFsdWU6IGZ1bmN0aW9uIGlubmVyVmFsdWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWFwTnVsbCA9IHRoaXMubWFwT3B0aW9ucyA9PT0gdHJ1ZSAmJiB0aGlzLm11bHRpcGxlICE9PSB0cnVlLAogICAgICAgICAgdmFsID0gdGhpcy52YWx1ZSAhPT0gdm9pZCAwICYmICh0aGlzLnZhbHVlICE9PSBudWxsIHx8IG1hcE51bGwgPT09IHRydWUpID8gdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSAmJiBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpID8gdGhpcy52YWx1ZSA6IFt0aGlzLnZhbHVlXSA6IFtdOwoKICAgICAgaWYgKHRoaXMubWFwT3B0aW9ucyA9PT0gdHJ1ZSAmJiBBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucykgPT09IHRydWUpIHsKICAgICAgICB2YXIgX2NhY2hlID0gdGhpcy5tYXBPcHRpb25zID09PSB0cnVlICYmIHRoaXMuaW5uZXJWYWx1ZUNhY2hlICE9PSB2b2lkIDAgPyB0aGlzLmlubmVyVmFsdWVDYWNoZSA6IFtdOwoKICAgICAgICB2YXIgdmFsdWVzID0gdmFsLm1hcChmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIF90aGlzLl9fZ2V0T3B0aW9uKHYsIF9jYWNoZSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG51bGwgJiYgbWFwTnVsbCA9PT0gdHJ1ZSA/IHZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2ICE9PSBudWxsOwogICAgICAgIH0pIDogdmFsdWVzOwogICAgICB9CgogICAgICByZXR1cm4gdmFsOwogICAgfSwKICAgIG5vT3B0aW9uczogZnVuY3Rpb24gbm9PcHRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2Nyb2xsTGVuZ3RoID09PSAwOwogICAgfSwKICAgIHNlbGVjdGVkU3RyaW5nOiBmdW5jdGlvbiBzZWxlY3RlZFN0cmluZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5pbm5lclZhbHVlLm1hcChmdW5jdGlvbiAob3B0KSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5fX2dldE9wdGlvbkxhYmVsKG9wdCk7CiAgICAgIH0pLmpvaW4oJywgJyk7CiAgICB9LAogICAgZGlzcGxheUFzVGV4dDogZnVuY3Rpb24gZGlzcGxheUFzVGV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheVZhbHVlU2FuaXRpemUgPT09IHRydWUgfHwgdGhpcy5kaXNwbGF5VmFsdWUgPT09IHZvaWQgMCAmJiAodGhpcy5vcHRpb25zU2FuaXRpemUgPT09IHRydWUgfHwgdGhpcy5pbm5lclZhbHVlLnNvbWUoZnVuY3Rpb24gKG9wdCkgewogICAgICAgIHJldHVybiBvcHQgIT09IG51bGwgJiYgb3B0LnNhbml0aXplID09PSB0cnVlOwogICAgICB9KSk7CiAgICB9LAogICAgY29tcHV0ZWRUYWJpbmRleDogZnVuY3Rpb24gY29tcHV0ZWRUYWJpbmRleCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZm9jdXNlZCA9PT0gdHJ1ZSA/IHRoaXMudGFiaW5kZXggOiAtMTsKICAgIH0sCiAgICBzZWxlY3RlZFNjb3BlOiBmdW5jdGlvbiBzZWxlY3RlZFNjb3BlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmlubmVyVmFsdWUubWFwKGZ1bmN0aW9uIChvcHQsIGkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaW5kZXg6IGksCiAgICAgICAgICBvcHQ6IG9wdCwKICAgICAgICAgIHNhbml0aXplOiBfdGhpczMub3B0aW9uc1Nhbml0aXplID09PSB0cnVlIHx8IG9wdC5zYW5pdGl6ZSA9PT0gdHJ1ZSwKICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLAogICAgICAgICAgcmVtb3ZlQXRJbmRleDogX3RoaXMzLl9fcmVtb3ZlQXRJbmRleEFuZEZvY3VzLAogICAgICAgICAgdG9nZ2xlT3B0aW9uOiBfdGhpczMudG9nZ2xlT3B0aW9uLAogICAgICAgICAgdGFiaW5kZXg6IF90aGlzMy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgb3B0aW9uU2NvcGU6IGZ1bmN0aW9uIG9wdGlvblNjb3BlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGxMZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KCiAgICAgIHZhciBfdGhpcyR2aXJ0dWFsU2Nyb2xsU2wgPSB0aGlzLnZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLAogICAgICAgICAgZnJvbSA9IF90aGlzJHZpcnR1YWxTY3JvbGxTbC5mcm9tLAogICAgICAgICAgdG8gPSBfdGhpcyR2aXJ0dWFsU2Nyb2xsU2wudG87CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc2xpY2UoZnJvbSwgdG8pLm1hcChmdW5jdGlvbiAob3B0LCBpKSB7CiAgICAgICAgdmFyIGRpc2FibGUgPSBfdGhpczQuX19pc0Rpc2FibGVkKG9wdCk7CgogICAgICAgIHZhciBpbmRleCA9IGZyb20gKyBpOwogICAgICAgIHZhciBpdGVtUHJvcHMgPSB7CiAgICAgICAgICBjbGlja2FibGU6IHRydWUsCiAgICAgICAgICBhY3RpdmU6IGZhbHNlLAogICAgICAgICAgYWN0aXZlQ2xhc3M6IF90aGlzNC5jb21wdXRlZE9wdGlvbnNTZWxlY3RlZENsYXNzLAogICAgICAgICAgbWFudWFsRm9jdXM6IHRydWUsCiAgICAgICAgICBmb2N1c2VkOiBmYWxzZSwKICAgICAgICAgIGRpc2FibGU6IGRpc2FibGUsCiAgICAgICAgICB0YWJpbmRleDogLTEsCiAgICAgICAgICBkZW5zZTogX3RoaXM0Lm9wdGlvbnNEZW5zZSwKICAgICAgICAgIGRhcms6IF90aGlzNC5pc09wdGlvbnNEYXJrCiAgICAgICAgfTsKCiAgICAgICAgaWYgKGRpc2FibGUgIT09IHRydWUpIHsKICAgICAgICAgIF90aGlzNC5fX2lzU2VsZWN0ZWQob3B0KSA9PT0gdHJ1ZSAmJiAoaXRlbVByb3BzLmFjdGl2ZSA9IHRydWUpOwogICAgICAgICAgX3RoaXM0Lm9wdGlvbkluZGV4ID09PSBpbmRleCAmJiAoaXRlbVByb3BzLmZvY3VzZWQgPSB0cnVlKTsKICAgICAgICB9CgogICAgICAgIHZhciBpdGVtRXZlbnRzID0gewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBfdGhpczQudG9nZ2xlT3B0aW9uKG9wdCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKF90aGlzNC4kcS5wbGF0Zm9ybS5pcy5kZXNrdG9wID09PSB0cnVlKSB7CiAgICAgICAgICBpdGVtRXZlbnRzLm1vdXNlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0LnNldE9wdGlvbkluZGV4KGluZGV4KTsKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgICAgb3B0OiBvcHQsCiAgICAgICAgICBzYW5pdGl6ZTogX3RoaXM0Lm9wdGlvbnNTYW5pdGl6ZSA9PT0gdHJ1ZSB8fCBvcHQuc2FuaXRpemUgPT09IHRydWUsCiAgICAgICAgICBzZWxlY3RlZDogaXRlbVByb3BzLmFjdGl2ZSwKICAgICAgICAgIGZvY3VzZWQ6IGl0ZW1Qcm9wcy5mb2N1c2VkLAogICAgICAgICAgdG9nZ2xlT3B0aW9uOiBfdGhpczQudG9nZ2xlT3B0aW9uLAogICAgICAgICAgc2V0T3B0aW9uSW5kZXg6IF90aGlzNC5zZXRPcHRpb25JbmRleCwKICAgICAgICAgIGl0ZW1Qcm9wczogaXRlbVByb3BzLAogICAgICAgICAgaXRlbUV2ZW50czogaXRlbUV2ZW50cwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICAgIGRyb3Bkb3duQXJyb3dJY29uOiBmdW5jdGlvbiBkcm9wZG93bkFycm93SWNvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZHJvcGRvd25JY29uICE9PSB2b2lkIDAgPyB0aGlzLmRyb3Bkb3duSWNvbiA6IHRoaXMuJHEuaWNvblNldC5hcnJvdy5kcm9wZG93bjsKICAgIH0sCiAgICBzcXVhcmVkTWVudTogZnVuY3Rpb24gc3F1YXJlZE1lbnUoKSB7CiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNDb3ZlciA9PT0gZmFsc2UgJiYgdGhpcy5vdXRsaW5lZCAhPT0gdHJ1ZSAmJiB0aGlzLnN0YW5kb3V0ICE9PSB0cnVlICYmIHRoaXMuYm9yZGVybGVzcyAhPT0gdHJ1ZSAmJiB0aGlzLnJvdW5kZWQgIT09IHRydWU7CiAgICB9LAogICAgY29tcHV0ZWRPcHRpb25zU2VsZWN0ZWRDbGFzczogZnVuY3Rpb24gY29tcHV0ZWRPcHRpb25zU2VsZWN0ZWRDbGFzcygpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1NlbGVjdGVkQ2xhc3MgIT09IHZvaWQgMCA/IHRoaXMub3B0aW9uc1NlbGVjdGVkQ2xhc3MgOiB0aGlzLmNvbG9yICE9PSB2b2lkIDAgPyAidGV4dC0iLmNvbmNhdCh0aGlzLmNvbG9yKSA6ICcnOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlQXRJbmRleDogZnVuY3Rpb24gcmVtb3ZlQXRJbmRleChpbmRleCkgewogICAgICBpZiAoaW5kZXggPiAtMSAmJiBpbmRleCA8IHRoaXMuaW5uZXJWYWx1ZS5sZW5ndGgpIHsKICAgICAgICBpZiAodGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgdmFyIG1vZGVsID0gdGhpcy52YWx1ZS5zbGljZSgpOwogICAgICAgICAgdGhpcy4kZW1pdCgncmVtb3ZlJywgewogICAgICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgICAgIHZhbHVlOiBtb2RlbC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgbW9kZWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG51bGwpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIF9fcmVtb3ZlQXRJbmRleEFuZEZvY3VzOiBmdW5jdGlvbiBfX3JlbW92ZUF0SW5kZXhBbmRGb2N1cyhpbmRleCkgewogICAgICB0aGlzLnJlbW92ZUF0SW5kZXgoaW5kZXgpOwoKICAgICAgdGhpcy5fX2ZvY3VzKCk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQob3B0LCB1bmlxdWUpIHsKICAgICAgdmFyIHZhbCA9IHRoaXMuZW1pdFZhbHVlID09PSB0cnVlID8gdGhpcy5fX2dldE9wdGlvblZhbHVlKG9wdCkgOiBvcHQ7CgogICAgICBpZiAodGhpcy5tdWx0aXBsZSAhPT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlubmVyVmFsdWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnYWRkJywgewogICAgICAgICAgaW5kZXg6IDAsCiAgICAgICAgICB2YWx1ZTogdmFsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLm11bHRpcGxlID09PSB0cnVlID8gW3ZhbF0gOiB2YWwpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHVuaXF1ZSA9PT0gdHJ1ZSAmJiB0aGlzLl9faXNTZWxlY3RlZChvcHQpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5tYXhWYWx1ZXMgIT09IHZvaWQgMCAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+PSB0aGlzLm1heFZhbHVlcykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG1vZGVsID0gdGhpcy52YWx1ZS5zbGljZSgpOwogICAgICB0aGlzLiRlbWl0KCdhZGQnLCB7CiAgICAgICAgaW5kZXg6IG1vZGVsLmxlbmd0aCwKICAgICAgICB2YWx1ZTogdmFsCiAgICAgIH0pOwogICAgICBtb2RlbC5wdXNoKHZhbCk7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgbW9kZWwpOwogICAgfSwKICAgIHRvZ2dsZU9wdGlvbjogZnVuY3Rpb24gdG9nZ2xlT3B0aW9uKG9wdCwga2VlcE9wZW4pIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5lZGl0YWJsZSAhPT0gdHJ1ZSB8fCBvcHQgPT09IHZvaWQgMCB8fCB0aGlzLl9faXNEaXNhYmxlZChvcHQpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgb3B0VmFsdWUgPSB0aGlzLl9fZ2V0T3B0aW9uVmFsdWUob3B0KTsKCiAgICAgIGlmICh0aGlzLm11bHRpcGxlICE9PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kcmVmcy50YXJnZXQgIT09IHZvaWQgMCAmJiB0aGlzLiRyZWZzLnRhcmdldC5mb2N1cygpOwoKICAgICAgICBpZiAoa2VlcE9wZW4gIT09IHRydWUpIHsKICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRWYWx1ZSh0aGlzLmZpbGxJbnB1dCA9PT0gdHJ1ZSA/IHRoaXMuX19nZXRPcHRpb25MYWJlbChvcHQpIDogJycsIHRydWUsIHRydWUpOwogICAgICAgICAgdGhpcy5oaWRlUG9wdXAoKTsKICAgICAgICB9CgogICAgICAgIGlmIChpc0RlZXBFcXVhbCh0aGlzLl9fZ2V0T3B0aW9uVmFsdWUodGhpcy5pbm5lclZhbHVlKSwgb3B0VmFsdWUpICE9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMuZW1pdFZhbHVlID09PSB0cnVlID8gb3B0VmFsdWUgOiBvcHQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAodGhpcy5oYXNEaWFsb2cgIT09IHRydWUgfHwgdGhpcy5kaWFsb2dGaWVsZEZvY3VzZWQgPT09IHRydWUpICYmIHRoaXMuX19mb2N1cygpOwoKICAgICAgaWYgKHRoaXMuaW5uZXJWYWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICB2YXIgdmFsID0gdGhpcy5lbWl0VmFsdWUgPT09IHRydWUgPyBvcHRWYWx1ZSA6IG9wdDsKICAgICAgICB0aGlzLiRlbWl0KCdhZGQnLCB7CiAgICAgICAgICBpbmRleDogMCwKICAgICAgICAgIHZhbHVlOiB2YWwKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMubXVsdGlwbGUgPT09IHRydWUgPyBbdmFsXSA6IHZhbCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbW9kZWwgPSB0aGlzLnZhbHVlLnNsaWNlKCksCiAgICAgICAgICBpbmRleCA9IHRoaXMuaW5uZXJWYWx1ZS5maW5kSW5kZXgoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gaXNEZWVwRXF1YWwoX3RoaXM1Ll9fZ2V0T3B0aW9uVmFsdWUodiksIG9wdFZhbHVlKTsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3JlbW92ZScsIHsKICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgIHZhbHVlOiBtb2RlbC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMubWF4VmFsdWVzICE9PSB2b2lkIDAgJiYgbW9kZWwubGVuZ3RoID49IHRoaXMubWF4VmFsdWVzKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgX3ZhbCA9IHRoaXMuZW1pdFZhbHVlID09PSB0cnVlID8gb3B0VmFsdWUgOiBvcHQ7CgogICAgICAgIHRoaXMuJGVtaXQoJ2FkZCcsIHsKICAgICAgICAgIGluZGV4OiBtb2RlbC5sZW5ndGgsCiAgICAgICAgICB2YWx1ZTogX3ZhbAogICAgICAgIH0pOwogICAgICAgIG1vZGVsLnB1c2goX3ZhbCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgbW9kZWwpOwogICAgfSwKICAgIHNldE9wdGlvbkluZGV4OiBmdW5jdGlvbiBzZXRPcHRpb25JbmRleChpbmRleCkgewogICAgICBpZiAodGhpcy4kcS5wbGF0Zm9ybS5pcy5kZXNrdG9wICE9PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgdmFsID0gaW5kZXggPiAtMSAmJiBpbmRleCA8IHRoaXMudmlydHVhbFNjcm9sbExlbmd0aCA/IGluZGV4IDogLTE7CgogICAgICBpZiAodGhpcy5vcHRpb25JbmRleCAhPT0gdmFsKSB7CiAgICAgICAgdGhpcy5vcHRpb25JbmRleCA9IHZhbDsKICAgICAgfQogICAgfSwKICAgIG1vdmVPcHRpb25TZWxlY3Rpb246IGZ1bmN0aW9uIG1vdmVPcHRpb25TZWxlY3Rpb24oKSB7CiAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CiAgICAgIHZhciBza2lwSW5wdXRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwoKICAgICAgaWYgKHRoaXMubWVudSA9PT0gdHJ1ZSkgewogICAgICAgIHZhciBpbmRleCA9IHRoaXMub3B0aW9uSW5kZXg7CgogICAgICAgIGRvIHsKICAgICAgICAgIGluZGV4ID0gbm9ybWFsaXplVG9JbnRlcnZhbChpbmRleCArIG9mZnNldCwgLTEsIHRoaXMudmlydHVhbFNjcm9sbExlbmd0aCAtIDEpOwogICAgICAgIH0gd2hpbGUgKGluZGV4ICE9PSAtMSAmJiBpbmRleCAhPT0gdGhpcy5vcHRpb25JbmRleCAmJiB0aGlzLl9faXNEaXNhYmxlZCh0aGlzLm9wdGlvbnNbaW5kZXhdKSA9PT0gdHJ1ZSk7CgogICAgICAgIGlmICh0aGlzLm9wdGlvbkluZGV4ICE9PSBpbmRleCkgewogICAgICAgICAgdGhpcy5zZXRPcHRpb25JbmRleChpbmRleCk7CiAgICAgICAgICB0aGlzLnNjcm9sbFRvKGluZGV4KTsKCiAgICAgICAgICBpZiAoc2tpcElucHV0VmFsdWUgIT09IHRydWUgJiYgaW5kZXggPj0gMCAmJiB0aGlzLnVzZUlucHV0ID09PSB0cnVlICYmIHRoaXMuZmlsbElucHV0ID09PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gdGhpcy5fX2dldE9wdGlvbkxhYmVsKHRoaXMub3B0aW9uc1tpbmRleF0pOwoKICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZSAhPT0gaW5wdXRWYWx1ZSkgewogICAgICAgICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IGlucHV0VmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBfX2dldE9wdGlvbjogZnVuY3Rpb24gX19nZXRPcHRpb24odmFsdWUsIGlubmVyVmFsdWVDYWNoZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBmbiA9IGZ1bmN0aW9uIGZuKG9wdCkgewogICAgICAgIHJldHVybiBpc0RlZXBFcXVhbChfdGhpczYuX19nZXRPcHRpb25WYWx1ZShvcHQpLCB2YWx1ZSk7CiAgICAgIH07CgogICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQoZm4pIHx8IGlubmVyVmFsdWVDYWNoZS5maW5kKGZuKSB8fCB2YWx1ZTsKICAgIH0sCiAgICBfX2dldE9wdGlvblZhbHVlOiBmdW5jdGlvbiBfX2dldE9wdGlvblZhbHVlKG9wdCkgewogICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9uVmFsdWUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25WYWx1ZShvcHQpOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0KG9wdCkgPT09IG9wdCkgewogICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5vcHRpb25WYWx1ZSA9PT0gJ3N0cmluZycgPyBvcHRbdGhpcy5vcHRpb25WYWx1ZV0gOiBvcHQudmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvcHQ7CiAgICB9LAogICAgX19nZXRPcHRpb25MYWJlbDogZnVuY3Rpb24gX19nZXRPcHRpb25MYWJlbChvcHQpIHsKICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbkxhYmVsID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uTGFiZWwob3B0KTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdChvcHQpID09PSBvcHQpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMub3B0aW9uTGFiZWwgPT09ICdzdHJpbmcnID8gb3B0W3RoaXMub3B0aW9uTGFiZWxdIDogb3B0LmxhYmVsOwogICAgICB9CgogICAgICByZXR1cm4gb3B0OwogICAgfSwKICAgIF9faXNEaXNhYmxlZDogZnVuY3Rpb24gX19pc0Rpc2FibGVkKG9wdCkgewogICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9uRGlzYWJsZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHJldHVybiB0aGlzLm9wdGlvbkRpc2FibGUob3B0KSA9PT0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdChvcHQpID09PSBvcHQpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMub3B0aW9uRGlzYWJsZSA9PT0gJ3N0cmluZycgPyBvcHRbdGhpcy5vcHRpb25EaXNhYmxlXSA9PT0gdHJ1ZSA6IG9wdC5kaXNhYmxlID09PSB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgX19pc1NlbGVjdGVkOiBmdW5jdGlvbiBfX2lzU2VsZWN0ZWQob3B0KSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHZhbCA9IHRoaXMuX19nZXRPcHRpb25WYWx1ZShvcHQpOwoKICAgICAgcmV0dXJuIHRoaXMuaW5uZXJWYWx1ZS5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIGlzRGVlcEVxdWFsKF90aGlzNy5fX2dldE9wdGlvblZhbHVlKHYpLCB2YWwpOwogICAgICB9KSAhPT0gdm9pZCAwOwogICAgfSwKICAgIF9fb25UYXJnZXRLZXl1cDogZnVuY3Rpb24gX19vblRhcmdldEtleXVwKGUpIHsKICAgICAgLy8gaWYgRVNDIGFuZCB3ZSBoYXZlIGFuIG9wZW5lZCBtZW51CiAgICAgIC8vIHRoZW4gc3RvcCBwcm9wYWdhdGlvbiAobWlnaHQgYmUgY2F1Z2h0IGJ5IGEgUURpYWxvZwogICAgICAvLyBhbmQgc28gaXQgd2lsbCBhbHNvIGNsb3NlIHRoZSBRRGlhbG9nLCB3aGljaCBpcyB3cm9uZykKICAgICAgaWYgKGlzS2V5Q29kZShlLCAyNykgPT09IHRydWUgJiYgdGhpcy5tZW51ID09PSB0cnVlKSB7CiAgICAgICAgc3RvcChlKTsgLy8gb24gRVNDIHdlIG5lZWQgdG8gY2xvc2UgdGhlIGRpYWxvZyBhbHNvCgogICAgICAgIHRoaXMuaGlkZVBvcHVwKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2tleXVwJywgZSk7CiAgICB9LAogICAgX19vblRhcmdldEtleXByZXNzOiBmdW5jdGlvbiBfX29uVGFyZ2V0S2V5cHJlc3MoZSkgewogICAgICB0aGlzLiRlbWl0KCdrZXlwcmVzcycsIGUpOwogICAgfSwKICAgIF9fb25UYXJnZXRLZXlkb3duOiBmdW5jdGlvbiBfX29uVGFyZ2V0S2V5ZG93bihlKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy4kZW1pdCgna2V5ZG93bicsIGUpOwoKICAgICAgaWYgKHNob3VsZElnbm9yZUtleShlKSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRhYlNob3VsZFNlbGVjdCA9IGUuc2hpZnRLZXkgIT09IHRydWUgJiYgdGhpcy5tdWx0aXBsZSAhPT0gdHJ1ZSAmJiB0aGlzLm9wdGlvbkluZGV4ID4gLTE7IC8vIGVzY2FwZQoKICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gdGFiCgoKICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOSAmJiB0YWJTaG91bGRTZWxlY3QgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5fX2Nsb3NlTWVudSgpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChlLnRhcmdldCA9PT0gdm9pZCAwIHx8IGUudGFyZ2V0LmlkICE9PSB0aGlzLnRhcmdldFVpZCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBkb3duCgoKICAgICAgaWYgKGUua2V5Q29kZSA9PT0gNDAgJiYgdGhpcy5pbm5lckxvYWRpbmcgIT09IHRydWUgJiYgdGhpcy5tZW51ID09PSBmYWxzZSkgewogICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpOwogICAgICAgIHRoaXMuc2hvd1BvcHVwKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIGJhY2tzcGFjZQoKCiAgICAgIGlmIChlLmtleUNvZGUgPT09IDggJiYgdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSAmJiB0aGlzLmlucHV0VmFsdWUubGVuZ3RoID09PSAwICYmIEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHsKICAgICAgICB0aGlzLnJlbW92ZUF0SW5kZXgodGhpcy52YWx1ZS5sZW5ndGggLSAxKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gdXAsIGRvd24KCgogICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCB8fCBlLmtleUNvZGUgPT09IDQwKSB7CiAgICAgICAgc3RvcEFuZFByZXZlbnQoZSk7CiAgICAgICAgdGhpcy5tb3ZlT3B0aW9uU2VsZWN0aW9uKGUua2V5Q29kZSA9PT0gMzggPyAtMSA6IDEpOwogICAgICB9CgogICAgICB2YXIgb3B0aW9uc0xlbmd0aCA9IHRoaXMudmlydHVhbFNjcm9sbExlbmd0aDsgLy8ga2V5Ym9hcmQgc2VhcmNoIHdoZW4gbm90IGhhdmluZyB1c2UtaW5wdXQKCiAgICAgIGlmIChvcHRpb25zTGVuZ3RoID4gMCAmJiB0aGlzLnVzZUlucHV0ICE9PSB0cnVlICYmIGUua2V5Q29kZSA+PSA0OCAmJiBlLmtleUNvZGUgPD0gOTApIHsKICAgICAgICB0aGlzLm1lbnUgIT09IHRydWUgJiYgdGhpcy5zaG93UG9wdXAoZSk7IC8vIGNsZWFyIHNlYXJjaCBidWZmZXIgaWYgZXhwaXJlZAoKICAgICAgICBpZiAodGhpcy5zZWFyY2hCdWZmZXIgPT09IHZvaWQgMCB8fCB0aGlzLnNlYXJjaEJ1ZmZlckV4cCA8IERhdGUubm93KCkpIHsKICAgICAgICAgIHRoaXMuc2VhcmNoQnVmZmVyID0gJyc7CiAgICAgICAgfQoKICAgICAgICB2YXIgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKS50b0xvY2FsZUxvd2VyQ2FzZSgpLAogICAgICAgICAgICBrZXlSZXBlYXQgPSB0aGlzLnNlYXJjaEJ1ZmZlci5sZW5ndGggPT09IDEgJiYgdGhpcy5zZWFyY2hCdWZmZXJbMF0gPT09IGNoYXI7CiAgICAgICAgdGhpcy5zZWFyY2hCdWZmZXJFeHAgPSBEYXRlLm5vdygpICsgMTUwMDsKCiAgICAgICAgaWYgKGtleVJlcGVhdCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuc2VhcmNoQnVmZmVyICs9IGNoYXI7CiAgICAgICAgfQoKICAgICAgICB2YXIgc2VhcmNoUmUgPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMuc2VhcmNoQnVmZmVyLnNwbGl0KCcnKS5qb2luKCcuKicpLCAnaScpOwogICAgICAgIHZhciBpbmRleCA9IHRoaXMub3B0aW9uSW5kZXg7CgogICAgICAgIGlmIChrZXlSZXBlYXQgPT09IHRydWUgfHwgc2VhcmNoUmUudGVzdCh0aGlzLl9fZ2V0T3B0aW9uTGFiZWwodGhpcy5vcHRpb25zW2luZGV4XSkpICE9PSB0cnVlKSB7CiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIGluZGV4ID0gbm9ybWFsaXplVG9JbnRlcnZhbChpbmRleCArIDEsIC0xLCBvcHRpb25zTGVuZ3RoIC0gMSk7CiAgICAgICAgICB9IHdoaWxlIChpbmRleCAhPT0gdGhpcy5vcHRpb25JbmRleCAmJiAodGhpcy5fX2lzRGlzYWJsZWQodGhpcy5vcHRpb25zW2luZGV4XSkgPT09IHRydWUgfHwgc2VhcmNoUmUudGVzdCh0aGlzLl9fZ2V0T3B0aW9uTGFiZWwodGhpcy5vcHRpb25zW2luZGV4XSkpICE9PSB0cnVlKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5vcHRpb25JbmRleCAhPT0gaW5kZXgpIHsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM4LnNldE9wdGlvbkluZGV4KGluZGV4KTsKCiAgICAgICAgICAgIF90aGlzOC5zY3JvbGxUbyhpbmRleCk7CgogICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBfdGhpczgudXNlSW5wdXQgPT09IHRydWUgJiYgX3RoaXM4LmZpbGxJbnB1dCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gX3RoaXM4Ll9fZ2V0T3B0aW9uTGFiZWwoX3RoaXM4Lm9wdGlvbnNbaW5kZXhdKTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzOC5pbnB1dFZhbHVlICE9PSBpbnB1dFZhbHVlKSB7CiAgICAgICAgICAgICAgICBfdGhpczguaW5wdXRWYWx1ZSA9IGlucHV0VmFsdWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBlbnRlciwgc3BhY2UgKHdoZW4gbm90IHVzaW5nIHVzZS1pbnB1dCksIG9yIHRhYiAod2hlbiBub3QgdXNpbmcgbXVsdGlwbGUgYW5kIG9wdGlvbiBzZWxlY3RlZCkKICAgICAgLy8gc2FtZSB0YXJnZXQgaXMgY2hlY2tlZCBhYm92ZQoKCiAgICAgIGlmIChlLmtleUNvZGUgIT09IDEzICYmICh0aGlzLnVzZUlucHV0ID09PSB0cnVlIHx8IGUua2V5Q29kZSAhPT0gMzIpICYmICh0YWJTaG91bGRTZWxlY3QgPT09IGZhbHNlIHx8IGUua2V5Q29kZSAhPT0gOSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGUua2V5Q29kZSAhPT0gOSAmJiBzdG9wQW5kUHJldmVudChlKTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbkluZGV4ID4gLTEgJiYgdGhpcy5vcHRpb25JbmRleCA8IG9wdGlvbnNMZW5ndGgpIHsKICAgICAgICB0aGlzLnRvZ2dsZU9wdGlvbih0aGlzLm9wdGlvbnNbdGhpcy5vcHRpb25JbmRleF0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5wdXRWYWx1ZS5sZW5ndGggPiAwICYmICh0aGlzLm5ld1ZhbHVlTW9kZSAhPT0gdm9pZCAwIHx8IHRoaXMuJGxpc3RlbmVyc1snbmV3LXZhbHVlJ10gIT09IHZvaWQgMCkpIHsKICAgICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUodmFsLCBtb2RlKSB7CiAgICAgICAgICBpZiAobW9kZSkgewogICAgICAgICAgICBpZiAodmFsaWRhdGVOZXdWYWx1ZU1vZGUobW9kZSkgIT09IHRydWUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdRU2VsZWN0OiBpbnZhbGlkIG5ldyB2YWx1ZSBtb2RlIC0gJyArIG1vZGUpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbW9kZSA9IF90aGlzOC5uZXdWYWx1ZU1vZGU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhbCAhPT0gdm9pZCAwICYmIHZhbCAhPT0gbnVsbCkgewogICAgICAgICAgICBfdGhpczhbbW9kZSA9PT0gJ3RvZ2dsZScgPyAndG9nZ2xlT3B0aW9uJyA6ICdhZGQnXSh2YWwsIG1vZGUgPT09ICdhZGQtdW5pcXVlJyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM4LnVwZGF0ZUlucHV0VmFsdWUoJycsIF90aGlzOC5tdWx0aXBsZSAhPT0gdHJ1ZSwgdHJ1ZSk7CgogICAgICAgICAgaWYgKF90aGlzOC5tdWx0aXBsZSAhPT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczguJHJlZnMudGFyZ2V0ICE9PSB2b2lkIDAgJiYgX3RoaXM4LiRyZWZzLnRhcmdldC5mb2N1cygpOwoKICAgICAgICAgICAgX3RoaXM4LmhpZGVQb3B1cCgpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGlmICh0aGlzLiRsaXN0ZW5lcnNbJ25ldy12YWx1ZSddICE9PSB2b2lkIDApIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ25ldy12YWx1ZScsIHRoaXMuaW5wdXRWYWx1ZSwgZG9uZSk7CgogICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGUgIT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb25lKHRoaXMuaW5wdXRWYWx1ZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5tZW51ID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5fX2Nsb3NlTWVudSgpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5uZXJMb2FkaW5nICE9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zaG93UG9wdXAoKTsKICAgICAgfQogICAgfSwKICAgIF9fZ2V0VmlydHVhbFNjcm9sbEVsOiBmdW5jdGlvbiBfX2dldFZpcnR1YWxTY3JvbGxFbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaGFzRGlhbG9nID09PSB0cnVlID8gdGhpcy4kcmVmcy5tZW51Q29udGVudCA6IHRoaXMuJHJlZnMubWVudSAhPT0gdm9pZCAwICYmIHRoaXMuJHJlZnMubWVudS5fX3BvcnRhbCAhPT0gdm9pZCAwID8gdGhpcy4kcmVmcy5tZW51Ll9fcG9ydGFsLiRlbCA6IHZvaWQgMDsKICAgIH0sCiAgICBfX2dldFZpcnR1YWxTY3JvbGxUYXJnZXQ6IGZ1bmN0aW9uIF9fZ2V0VmlydHVhbFNjcm9sbFRhcmdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX19nZXRWaXJ0dWFsU2Nyb2xsRWwoKTsKICAgIH0sCiAgICBfX2dldFNlbGVjdGlvbjogZnVuY3Rpb24gX19nZXRTZWxlY3Rpb24oaCwgZnJvbURpYWxvZykgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmhpZGVTZWxlY3RlZCA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiBmcm9tRGlhbG9nICE9PSB0cnVlICYmIHRoaXMuaGFzRGlhbG9nID09PSB0cnVlID8gW2goJ3NwYW4nLCB7CiAgICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgICB0ZXh0Q29udGVudDogdGhpcy5pbnB1dFZhbHVlCiAgICAgICAgICB9CiAgICAgICAgfSldIDogW107CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90c1snc2VsZWN0ZWQtaXRlbSddICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFNjb3BlLm1hcChmdW5jdGlvbiAoc2NvcGUpIHsKICAgICAgICAgIHJldHVybiBfdGhpczkuJHNjb3BlZFNsb3RzWydzZWxlY3RlZC1pdGVtJ10oc2NvcGUpOwogICAgICAgIH0pLnNsaWNlKCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90cy5zZWxlY3RlZCAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGVkKCkuc2xpY2UoKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudXNlQ2hpcHMgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFNjb3BlLm1hcChmdW5jdGlvbiAoc2NvcGUsIGkpIHsKICAgICAgICAgIHJldHVybiBoKFFDaGlwLCB7CiAgICAgICAgICAgIGtleTogJ29wdGlvbi0nICsgaSwKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICByZW1vdmFibGU6IF90aGlzOS5fX2lzRGlzYWJsZWQoc2NvcGUub3B0KSAhPT0gdHJ1ZSwKICAgICAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgICAgICB0ZXh0Q29sb3I6IF90aGlzOS5jb2xvciwKICAgICAgICAgICAgICB0YWJpbmRleDogX3RoaXM5LmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb246IGNhY2hlKF90aGlzOSwgJ3JlbSMnICsgaSwgewogICAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgICAgICAgICAgc2NvcGUucmVtb3ZlQXRJbmRleChpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9LCBbaCgnc3BhbicsIHsKICAgICAgICAgICAgZG9tUHJvcHM6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgc2NvcGUuc2FuaXRpemUgPT09IHRydWUgPyAndGV4dENvbnRlbnQnIDogJ2lubmVySFRNTCcsIF90aGlzOS5fX2dldE9wdGlvbkxhYmVsKHNjb3BlLm9wdCkpCiAgICAgICAgICB9KV0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gW2goJ3NwYW4nLCB7CiAgICAgICAgZG9tUHJvcHM6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhpcy5kaXNwbGF5QXNUZXh0ID8gJ3RleHRDb250ZW50JyA6ICdpbm5lckhUTUwnLCB0aGlzLmRpc3BsYXlWYWx1ZSAhPT0gdm9pZCAwID8gdGhpcy5kaXNwbGF5VmFsdWUgOiB0aGlzLnNlbGVjdGVkU3RyaW5nKQogICAgICB9KV07CiAgICB9LAogICAgX19nZXRDb250cm9sOiBmdW5jdGlvbiBfX2dldENvbnRyb2woaCwgZnJvbURpYWxvZykgewogICAgICB2YXIgY2hpbGQgPSB0aGlzLl9fZ2V0U2VsZWN0aW9uKGgsIGZyb21EaWFsb2cpOwoKICAgICAgaWYgKHRoaXMudXNlSW5wdXQgPT09IHRydWUgJiYgKGZyb21EaWFsb2cgPT09IHRydWUgfHwgdGhpcy5oYXNEaWFsb2cgPT09IGZhbHNlKSkgewogICAgICAgIGNoaWxkLnB1c2godGhpcy5fX2dldElucHV0KGgsIGZyb21EaWFsb2cpKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmVkaXRhYmxlID09PSB0cnVlKSB7CiAgICAgICAgdmFyIGlzU2hhZG93RmllbGQgPSB0aGlzLmhhc0RpYWxvZyA9PT0gdHJ1ZSAmJiBmcm9tRGlhbG9nICE9PSB0cnVlICYmIHRoaXMubWVudSA9PT0gdHJ1ZTsKICAgICAgICBjaGlsZC5wdXNoKGgoJ2RpdicsIHsKICAgICAgICAgIC8vIHRoZXJlIGNhbiBiZSBvbmx5IG9uZSAod2hlbiBkaWFsb2cgaXMgb3BlbmVkIHRoZSBjb250cm9sIGluIGRpYWxvZyBzaG91bGQgYmUgdGFyZ2V0KQogICAgICAgICAgcmVmOiBpc1NoYWRvd0ZpZWxkID09PSB0cnVlID8gdm9pZCAwIDogJ3RhcmdldCcsCiAgICAgICAgICBzdGF0aWNDbGFzczogJ25vLW91dGxpbmUnLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGFiaW5kZXg6IHRoaXMudGFiaW5kZXgsCiAgICAgICAgICAgIGlkOiBpc1NoYWRvd0ZpZWxkID09PSB0cnVlID8gdm9pZCAwIDogdGhpcy50YXJnZXRVaWQKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogY2FjaGUodGhpcywgJ2N0cmwnLCB7CiAgICAgICAgICAgIGtleWRvd246IHRoaXMuX19vblRhcmdldEtleWRvd24sCiAgICAgICAgICAgIGtleXVwOiB0aGlzLl9fb25UYXJnZXRLZXl1cCwKICAgICAgICAgICAga2V5cHJlc3M6IHRoaXMuX19vblRhcmdldEtleXByZXNzCiAgICAgICAgICB9KQogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZmllbGRfX25hdGl2ZSByb3cgaXRlbXMtY2VudGVyJywKICAgICAgICBhdHRyczogdGhpcy4kYXR0cnMKICAgICAgfSwgY2hpbGQpOwogICAgfSwKICAgIF9fZ2V0T3B0aW9uczogZnVuY3Rpb24gX19nZXRPcHRpb25zKGgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubWVudSAhPT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB2b2lkIDA7CiAgICAgIH0KCiAgICAgIHZhciBmbiA9IHRoaXMuJHNjb3BlZFNsb3RzLm9wdGlvbiAhPT0gdm9pZCAwID8gdGhpcy4kc2NvcGVkU2xvdHMub3B0aW9uIDogZnVuY3Rpb24gKHNjb3BlKSB7CiAgICAgICAgcmV0dXJuIGgoUUl0ZW0sIHsKICAgICAgICAgIGtleTogc2NvcGUuaW5kZXgsCiAgICAgICAgICBwcm9wczogc2NvcGUuaXRlbVByb3BzLAogICAgICAgICAgb246IHNjb3BlLml0ZW1FdmVudHMKICAgICAgICB9LCBbaChRSXRlbVNlY3Rpb24sIFtoKFFJdGVtTGFiZWwsIHsKICAgICAgICAgIGRvbVByb3BzOiBfZGVmaW5lUHJvcGVydHkoe30sIHNjb3BlLnNhbml0aXplID09PSB0cnVlID8gJ3RleHRDb250ZW50JyA6ICdpbm5lckhUTUwnLCBfdGhpczEwLl9fZ2V0T3B0aW9uTGFiZWwoc2NvcGUub3B0KSkKICAgICAgICB9KV0pXSk7CiAgICAgIH07CgogICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX19wYWRWaXJ0dWFsU2Nyb2xsKGgsICdkaXYnLCB0aGlzLm9wdGlvblNjb3BlLm1hcChmbikpOwoKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzWydiZWZvcmUtb3B0aW9ucyddICE9PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0gdGhpcy4kc2NvcGVkU2xvdHNbJ2JlZm9yZS1vcHRpb25zJ10oKS5jb25jYXQob3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBtZXJnZVNsb3Qob3B0aW9ucywgdGhpcywgJ2FmdGVyLW9wdGlvbnMnKTsKICAgIH0sCiAgICBfX2dldElubmVyQXBwZW5kOiBmdW5jdGlvbiBfX2dldElubmVyQXBwZW5kKGgpIHsKICAgICAgcmV0dXJuIHRoaXMubG9hZGluZyAhPT0gdHJ1ZSAmJiB0aGlzLmlubmVyTG9hZGluZyAhPT0gdHJ1ZSAmJiB0aGlzLmhpZGVEcm9wZG93bkljb24gIT09IHRydWUgPyBbaChRSWNvbiwgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1zZWxlY3RfX2Ryb3Bkb3duLWljb24nLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiB0aGlzLmRyb3Bkb3duQXJyb3dJY29uCiAgICAgICAgfQogICAgICB9KV0gOiBudWxsOwogICAgfSwKICAgIF9fZ2V0SW5wdXQ6IGZ1bmN0aW9uIF9fZ2V0SW5wdXQoaCwgZnJvbURpYWxvZykgewogICAgICB2YXIgb24gPSB7CiAgICAgICAgaW5wdXQ6IHRoaXMuX19vbklucHV0LAogICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW4KICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlCiAgICAgICAgLy8gdGhpcyBhbHNvIGZpeGVzIHRoZSBpc3N1ZSB3aGVyZSBzb21lIGJyb3dzZXJzIGUuZy4gaU9TIENocm9tZQogICAgICAgIC8vIGZpcmVzICJjaGFuZ2UiIGluc3RlYWQgb2YgImlucHV0IiBvbiBhdXRvY29tcGxldGUuCiAgICAgICAgY2hhbmdlOiB0aGlzLl9fb25DaGFuZ2UsCiAgICAgICAga2V5ZG93bjogdGhpcy5fX29uVGFyZ2V0S2V5ZG93biwKICAgICAgICBrZXl1cDogdGhpcy5fX29uVGFyZ2V0S2V5dXAsCiAgICAgICAga2V5cHJlc3M6IHRoaXMuX19vblRhcmdldEtleXByZXNzCiAgICAgIH07CiAgICAgIG9uLmNvbXBvc2l0aW9uc3RhcnQgPSBvbi5jb21wb3NpdGlvbnVwZGF0ZSA9IG9uLmNvbXBvc2l0aW9uZW5kID0gdGhpcy5fX29uQ29tcG9zaXRpb247CgogICAgICBpZiAodGhpcy5oYXNEaWFsb2cgPT09IHRydWUpIHsKICAgICAgICBvbi5jbGljayA9IHN0b3A7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdpbnB1dCcsIHsKICAgICAgICByZWY6ICd0YXJnZXQnLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1maWVsZF9faW5wdXQgcS1wbGFjZWhvbGRlciBjb2wnLAogICAgICAgIHN0eWxlOiB0aGlzLmlucHV0U3R5bGUsCiAgICAgICAgY2xhc3M6IHRoaXMuY29tcHV0ZWRJbnB1dENsYXNzLAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICB2YWx1ZTogdGhpcy5pbnB1dFZhbHVlICE9PSB2b2lkIDAgPyB0aGlzLmlucHV0VmFsdWUgOiAnJwogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIEFuZHJvaWQgaW4gb3JkZXIgdG8gc2hvdyBFTlRFUiBrZXkgd2hlbiBpbiBmb3JtCiAgICAgICAgICB0eXBlOiAnc2VhcmNoJwogICAgICAgIH0sIHRoaXMuJGF0dHJzLCB7CiAgICAgICAgICB0YWJpbmRleDogdGhpcy50YWJpbmRleCwKICAgICAgICAgICdkYXRhLWF1dG9mb2N1cyc6IGZyb21EaWFsb2cgPT09IHRydWUgPyBmYWxzZSA6IHRoaXMuYXV0b2ZvY3VzLAogICAgICAgICAgaWQ6IHRoaXMudGFyZ2V0VWlkLAogICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSwKICAgICAgICAgIHJlYWRvbmx5OiB0aGlzLnJlYWRvbmx5ID09PSB0cnVlCiAgICAgICAgfSksCiAgICAgICAgb246IGNhY2hlKHRoaXMsICdpbnAjJyArIHRoaXMuaGFzRGlhbG9nLCBvbikKICAgICAgfSk7CiAgICB9LAogICAgX19vbkNoYW5nZTogZnVuY3Rpb24gX19vbkNoYW5nZShlKSB7CiAgICAgIHRoaXMuX19vbkNvbXBvc2l0aW9uKGUpOwogICAgfSwKICAgIF9fb25JbnB1dDogZnVuY3Rpb24gX19vbklucHV0KGUpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW5wdXRUaW1lcik7CgogICAgICBpZiAoZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5jb21wb3NpbmcgPT09IHRydWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlIHx8ICcnOyAvLyBtYXJrIGl0IGhlcmUgYXMgdXNlciBpbnB1dCBzbyB0aGF0IGlmIHVwZGF0ZUlucHV0VmFsdWUgaXMgY2FsbGVkCiAgICAgIC8vIGJlZm9yZSBmaWx0ZXIgaXMgY2FsbGVkIHRoZSBpbmRpY2F0b3IgaXMgcmVzZXQKCiAgICAgIHRoaXMudXNlcklucHV0VmFsdWUgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuJGxpc3RlbmVycy5maWx0ZXIgIT09IHZvaWQgMCkgewogICAgICAgIHRoaXMuaW5wdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMS5maWx0ZXIoX3RoaXMxMS5pbnB1dFZhbHVlKTsKICAgICAgICB9LCB0aGlzLmlucHV0RGVib3VuY2UpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlSW5wdXRWYWx1ZTogZnVuY3Rpb24gdXBkYXRlSW5wdXRWYWx1ZSh2YWwsIG5vRmlsdGVyaW5nLCBpbnRlcm5hbCkgewogICAgICB0aGlzLnVzZXJJbnB1dFZhbHVlID0gaW50ZXJuYWwgIT09IHRydWU7CgogICAgICBpZiAodGhpcy51c2VJbnB1dCA9PT0gdHJ1ZSkgewogICAgICAgIGlmICh0aGlzLmlucHV0VmFsdWUgIT09IHZhbCkgewogICAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gdmFsOwogICAgICAgIH0KCiAgICAgICAgbm9GaWx0ZXJpbmcgIT09IHRydWUgJiYgdGhpcy5maWx0ZXIodmFsKTsKICAgICAgfQogICAgfSwKICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHZhbCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kbGlzdGVuZXJzLmZpbHRlciA9PT0gdm9pZCAwIHx8IHRoaXMuZm9jdXNlZCAhPT0gdHJ1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5uZXJMb2FkaW5nID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnZmlsdGVyLWFib3J0Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbm5lckxvYWRpbmcgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAodmFsICE9PSAnJyAmJiB0aGlzLm11bHRpcGxlICE9PSB0cnVlICYmIHRoaXMuaW5uZXJWYWx1ZS5sZW5ndGggPiAwICYmIHRoaXMudXNlcklucHV0VmFsdWUgIT09IHRydWUgJiYgdmFsID09PSB0aGlzLl9fZ2V0T3B0aW9uTGFiZWwodGhpcy5pbm5lclZhbHVlWzBdKSkgewogICAgICAgIHZhbCA9ICcnOwogICAgICB9CgogICAgICB2YXIgZmlsdGVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczEyLm1lbnUgPT09IHRydWUgJiYgKF90aGlzMTIubWVudSA9IGZhbHNlKTsKICAgICAgfSwgMTApOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJJZCk7CiAgICAgIHRoaXMuZmlsdGVySWQgPSBmaWx0ZXJJZDsKICAgICAgdGhpcy4kZW1pdCgnZmlsdGVyJywgdmFsLCBmdW5jdGlvbiAoZm4sIGFmdGVyRm4pIHsKICAgICAgICBpZiAoX3RoaXMxMi5mb2N1c2VkID09PSB0cnVlICYmIF90aGlzMTIuZmlsdGVySWQgPT09IGZpbHRlcklkKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMxMi5maWx0ZXJJZCk7CiAgICAgICAgICB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgZm4oKTsKCiAgICAgICAgICBfdGhpczEyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMTIuaW5uZXJMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICBpZiAoX3RoaXMxMi5tZW51ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgX3RoaXMxMi5fX3VwZGF0ZU1lbnUodHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMxMi5tZW51ID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHlwZW9mIGFmdGVyRm4gPT09ICdmdW5jdGlvbicgJiYgX3RoaXMxMi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGFmdGVyRm4oX3RoaXMxMik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMTIuZm9jdXNlZCA9PT0gdHJ1ZSAmJiBfdGhpczEyLmZpbHRlcklkID09PSBmaWx0ZXJJZCkgewogICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMTIuZmlsdGVySWQpOwogICAgICAgICAgX3RoaXMxMi5pbm5lckxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIF90aGlzMTIubWVudSA9PT0gdHJ1ZSAmJiAoX3RoaXMxMi5tZW51ID0gZmFsc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBfX2dldENvbnRyb2xFdmVudHM6IGZ1bmN0aW9uIF9fZ2V0Q29udHJvbEV2ZW50cygpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIGZvY3Vzb3V0ID0gZnVuY3Rpb24gZm9jdXNvdXQoZSkgewogICAgICAgIF90aGlzMTMuX19vbkNvbnRyb2xGb2N1c291dChlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczEzLl9fcmVzZXRJbnB1dFZhbHVlKCk7CgogICAgICAgICAgX3RoaXMxMy5fX2Nsb3NlTWVudSgpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgcmV0dXJuIHsKICAgICAgICBmb2N1c2luOiB0aGlzLl9fb25Db250cm9sRm9jdXNpbiwKICAgICAgICBmb2N1c291dDogZm9jdXNvdXQsCiAgICAgICAgJ3BvcHVwLXNob3cnOiB0aGlzLl9fb25Db250cm9sUG9wdXBTaG93LAogICAgICAgICdwb3B1cC1oaWRlJzogZnVuY3Rpb24gcG9wdXBIaWRlKGUpIHsKICAgICAgICAgIGUgIT09IHZvaWQgMCAmJiBzdG9wKGUpOwoKICAgICAgICAgIF90aGlzMTMuJGVtaXQoJ3BvcHVwLWhpZGUnLCBlKTsKCiAgICAgICAgICBfdGhpczEzLmhhc1BvcHVwT3BlbiA9IGZhbHNlOwogICAgICAgICAgZm9jdXNvdXQoZSk7CiAgICAgICAgfSwKICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgaWYgKF90aGlzMTMuaGFzRGlhbG9nICE9PSB0cnVlKSB7CiAgICAgICAgICAgIC8vIGxhYmVsIGZyb20gUUZpZWxkIHdpbGwgcHJvcGFnYXRlIGNsaWNrIG9uIHRoZSBpbnB1dCAoZXhjZXB0IElFKQogICAgICAgICAgICBpZiAoX3RoaXMxMy51c2VJbnB1dCA9PT0gdHJ1ZSAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3EtZmllbGRfX2lucHV0JykgIT09IHRydWUgfHwgX3RoaXMxMy51c2VJbnB1dCAhPT0gdHJ1ZSAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW91dGxpbmUnKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90aGlzMTMubWVudSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIF90aGlzMTMuX19jbG9zZU1lbnUoKTsKCiAgICAgICAgICAgICAgX3RoaXMxMy4kcmVmcy50YXJnZXQgIT09IHZvaWQgMCAmJiBfdGhpczEzLiRyZWZzLnRhcmdldC5mb2N1cygpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMTMuc2hvd1BvcHVwKGUpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBfX2dldENvbnRyb2xDaGlsZDogZnVuY3Rpb24gX19nZXRDb250cm9sQ2hpbGQoaCkgewogICAgICBpZiAodGhpcy5lZGl0YWJsZSAhPT0gZmFsc2UgJiYgKHRoaXMuZGlhbG9nID09PSB0cnVlIHx8IC8vIGRpYWxvZyBhbHdheXMgaGFzIG1lbnUgZGlzcGxheWVkLCBzbyBuZWVkIHRvIHJlbmRlciBpdAogICAgICB0aGlzLm5vT3B0aW9ucyAhPT0gdHJ1ZSB8fCB0aGlzLiRzY29wZWRTbG90c1snbm8tb3B0aW9uJ10gIT09IHZvaWQgMCkpIHsKICAgICAgICByZXR1cm4gdGhpc1siX19nZXQiLmNvbmNhdCh0aGlzLmhhc0RpYWxvZyA9PT0gdHJ1ZSA/ICdEaWFsb2cnIDogJ01lbnUnKV0oaCk7CiAgICAgIH0KICAgIH0sCiAgICBfX2dldE1lbnU6IGZ1bmN0aW9uIF9fZ2V0TWVudShoKSB7CiAgICAgIHZhciBjaGlsZCA9IHRoaXMubm9PcHRpb25zID09PSB0cnVlID8gdGhpcy4kc2NvcGVkU2xvdHNbJ25vLW9wdGlvbiddICE9PSB2b2lkIDAgPyB0aGlzLiRzY29wZWRTbG90c1snbm8tb3B0aW9uJ10oewogICAgICAgIGlucHV0VmFsdWU6IHRoaXMuaW5wdXRWYWx1ZQogICAgICB9KSA6IG51bGwgOiB0aGlzLl9fZ2V0T3B0aW9ucyhoKTsKICAgICAgcmV0dXJuIGgoUU1lbnUsIHsKICAgICAgICByZWY6ICdtZW51JywKICAgICAgICBwcm9wczogewogICAgICAgICAgdmFsdWU6IHRoaXMubWVudSwKICAgICAgICAgIGZpdDogdHJ1ZSwKICAgICAgICAgIGNvdmVyOiB0aGlzLm9wdGlvbnNDb3ZlciA9PT0gdHJ1ZSAmJiB0aGlzLm5vT3B0aW9ucyAhPT0gdHJ1ZSAmJiB0aGlzLnVzZUlucHV0ICE9PSB0cnVlLAogICAgICAgICAgY29udGVudENsYXNzOiB0aGlzLm1lbnVDb250ZW50Q2xhc3MsCiAgICAgICAgICBjb250ZW50U3R5bGU6IHRoaXMucG9wdXBDb250ZW50U3R5bGUsCiAgICAgICAgICBkYXJrOiB0aGlzLmlzT3B0aW9uc0RhcmssCiAgICAgICAgICBub1BhcmVudEV2ZW50OiB0cnVlLAogICAgICAgICAgbm9SZWZvY3VzOiB0cnVlLAogICAgICAgICAgbm9Gb2N1czogdHJ1ZSwKICAgICAgICAgIHNxdWFyZTogdGhpcy5zcXVhcmVkTWVudSwKICAgICAgICAgIHRyYW5zaXRpb25TaG93OiB0aGlzLnRyYW5zaXRpb25TaG93LAogICAgICAgICAgdHJhbnNpdGlvbkhpZGU6IHRoaXMudHJhbnNpdGlvbkhpZGUsCiAgICAgICAgICBzZXBhcmF0ZUNsb3NlUG9wdXA6IHRydWUKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAnbWVudScsIHsKICAgICAgICAgICcmc2Nyb2xsJzogdGhpcy5fX29uVmlydHVhbFNjcm9sbEV2dCwKICAgICAgICAgICdiZWZvcmUtaGlkZSc6IHRoaXMuX19jbG9zZU1lbnUKICAgICAgICB9KQogICAgICB9LCBjaGlsZCk7CiAgICB9LAogICAgX19vbkRpYWxvZ0ZpZWxkRm9jdXM6IGZ1bmN0aW9uIF9fb25EaWFsb2dGaWVsZEZvY3VzKGUpIHsKICAgICAgc3RvcChlKTsKICAgICAgdGhpcy4kcmVmcy50YXJnZXQgIT09IHZvaWQgMCAmJiB0aGlzLiRyZWZzLnRhcmdldC5mb2N1cygpOwogICAgICB0aGlzLmRpYWxvZ0ZpZWxkRm9jdXNlZCA9IHRydWU7CiAgICAgIHdpbmRvdy5zY3JvbGxUbyh3aW5kb3cucGFnZVhPZmZzZXQgfHwgd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDAsIDApOwogICAgfSwKICAgIF9fb25EaWFsb2dGaWVsZEJsdXI6IGZ1bmN0aW9uIF9fb25EaWFsb2dGaWVsZEJsdXIoZSkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICBzdG9wKGUpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxNC5kaWFsb2dGaWVsZEZvY3VzZWQgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgX19nZXREaWFsb2c6IGZ1bmN0aW9uIF9fZ2V0RGlhbG9nKGgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdmFyIGNvbnRlbnQgPSBbaChRRmllbGQsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNvbC1hdXRvICIuY29uY2F0KHRoaXMuZmllbGRDbGFzcyksCiAgICAgICAgcHJvcHM6IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHByb3BzLCB7CiAgICAgICAgICBmb3I6IHRoaXMudGFyZ2V0VWlkLAogICAgICAgICAgZGFyazogdGhpcy5pc09wdGlvbnNEYXJrLAogICAgICAgICAgc3F1YXJlOiB0cnVlLAogICAgICAgICAgbG9hZGluZzogdGhpcy5pbm5lckxvYWRpbmcsCiAgICAgICAgICBmaWxsZWQ6IHRydWUsCiAgICAgICAgICBzdGFja0xhYmVsOiB0aGlzLmlucHV0VmFsdWUubGVuZ3RoID4gMAogICAgICAgIH0pLAogICAgICAgIG9uOiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLiRsaXN0ZW5lcnMsIHsKICAgICAgICAgIGZvY3VzOiB0aGlzLl9fb25EaWFsb2dGaWVsZEZvY3VzLAogICAgICAgICAgYmx1cjogdGhpcy5fX29uRGlhbG9nRmllbGRCbHVyCiAgICAgICAgfSksCiAgICAgICAgc2NvcGVkU2xvdHM6IF9vYmplY3RTcHJlYWQoe30sIHRoaXMuJHNjb3BlZFNsb3RzLCB7CiAgICAgICAgICByYXdDb250cm9sOiBmdW5jdGlvbiByYXdDb250cm9sKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMxNS5fX2dldENvbnRyb2woaCwgdHJ1ZSk7CiAgICAgICAgICB9LAogICAgICAgICAgYmVmb3JlOiB2b2lkIDAsCiAgICAgICAgICBhZnRlcjogdm9pZCAwCiAgICAgICAgfSkKICAgICAgfSldOwogICAgICB0aGlzLm1lbnUgPT09IHRydWUgJiYgY29udGVudC5wdXNoKGgoJ2RpdicsIHsKICAgICAgICByZWY6ICdtZW51Q29udGVudCcsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdzY3JvbGwnLAogICAgICAgIGNsYXNzOiB0aGlzLm1lbnVDb250ZW50Q2xhc3MsCiAgICAgICAgc3R5bGU6IHRoaXMucG9wdXBDb250ZW50U3R5bGUsCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd2aXJ0TWVudScsIHsKICAgICAgICAgIGNsaWNrOiBwcmV2ZW50LAogICAgICAgICAgJyZzY3JvbGwnOiB0aGlzLl9fb25WaXJ0dWFsU2Nyb2xsRXZ0CiAgICAgICAgfSkKICAgICAgfSwgdGhpcy5ub09wdGlvbnMgPT09IHRydWUgPyB0aGlzLiRzY29wZWRTbG90c1snbm8tb3B0aW9uJ10gIT09IHZvaWQgMCA/IHRoaXMuJHNjb3BlZFNsb3RzWyduby1vcHRpb24nXSh7CiAgICAgICAgaW5wdXRWYWx1ZTogdGhpcy5pbnB1dFZhbHVlCiAgICAgIH0pIDogbnVsbCA6IHRoaXMuX19nZXRPcHRpb25zKGgpKSk7CiAgICAgIHJldHVybiBoKFFEaWFsb2csIHsKICAgICAgICByZWY6ICdkaWFsb2cnLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB2YWx1ZTogdGhpcy5kaWFsb2csCiAgICAgICAgICBkYXJrOiB0aGlzLmlzT3B0aW9uc0RhcmssCiAgICAgICAgICBwb3NpdGlvbjogdGhpcy51c2VJbnB1dCA9PT0gdHJ1ZSA/ICd0b3AnIDogdm9pZCAwLAogICAgICAgICAgdHJhbnNpdGlvblNob3c6IHRoaXMudHJhbnNpdGlvblNob3dDb21wdXRlZCwKICAgICAgICAgIHRyYW5zaXRpb25IaWRlOiB0aGlzLnRyYW5zaXRpb25IaWRlCiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2RpYWxvZycsIHsKICAgICAgICAgICdiZWZvcmUtaGlkZSc6IHRoaXMuX19vbkRpYWxvZ0JlZm9yZUhpZGUsCiAgICAgICAgICBoaWRlOiB0aGlzLl9fb25EaWFsb2dIaWRlLAogICAgICAgICAgc2hvdzogdGhpcy5fX29uRGlhbG9nU2hvdwogICAgICAgIH0pCiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXNlbGVjdF9fZGlhbG9nJyArICh0aGlzLmlzT3B0aW9uc0RhcmsgPT09IHRydWUgPyAnIHEtc2VsZWN0X19kaWFsb2ctLWRhcmsgcS1kYXJrJyA6ICcnKSArICh0aGlzLmRpYWxvZ0ZpZWxkRm9jdXNlZCA9PT0gdHJ1ZSA/ICcgcS1zZWxlY3RfX2RpYWxvZy0tZm9jdXNlZCcgOiAnJykKICAgICAgfSwgY29udGVudCldKTsKICAgIH0sCiAgICBfX29uRGlhbG9nQmVmb3JlSGlkZTogZnVuY3Rpb24gX19vbkRpYWxvZ0JlZm9yZUhpZGUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZGlhbG9nLl9fcmVmb2N1c1RhcmdldCA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5xLWZpZWxkX19uYXRpdmUgPiBbdGFiaW5kZXhdOmxhc3QtY2hpbGQnKTsKICAgICAgdGhpcy5mb2N1c2VkID0gZmFsc2U7CiAgICB9LAogICAgX19vbkRpYWxvZ0hpZGU6IGZ1bmN0aW9uIF9fb25EaWFsb2dIaWRlKGUpIHsKICAgICAgdGhpcy5oaWRlUG9wdXAoKTsKICAgICAgdGhpcy4kZW1pdCgnYmx1cicsIGUpOwoKICAgICAgdGhpcy5fX3Jlc2V0SW5wdXRWYWx1ZSgpOwogICAgfSwKICAgIF9fb25EaWFsb2dTaG93OiBmdW5jdGlvbiBfX29uRGlhbG9nU2hvdygpIHsKICAgICAgdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsgLy8gSUUgY2FuIGhhdmUgbnVsbCBkb2N1bWVudC5hY3RpdmVFbGVtZW50CgogICAgICBpZiAoKGVsID09PSBudWxsIHx8IGVsLmlkICE9PSB0aGlzLnRhcmdldFVpZCkgJiYgdGhpcy4kcmVmcy50YXJnZXQgIT09IGVsICYmIHRoaXMuJHJlZnMudGFyZ2V0ICE9PSB2b2lkIDApIHsKICAgICAgICB0aGlzLiRyZWZzLnRhcmdldC5mb2N1cygpOwogICAgICB9CiAgICB9LAogICAgX19jbG9zZU1lbnU6IGZ1bmN0aW9uIF9fY2xvc2VNZW51KCkgewogICAgICBpZiAodGhpcy5kaWFsb2cgPT09IHRydWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm1lbnUgPT09IHRydWUpIHsKICAgICAgICB0aGlzLm1lbnUgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZm9jdXNlZCA9PT0gZmFsc2UpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJJZCk7CiAgICAgICAgdGhpcy5maWx0ZXJJZCA9IHZvaWQgMDsKCiAgICAgICAgaWYgKHRoaXMuaW5uZXJMb2FkaW5nID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdmaWx0ZXItYWJvcnQnKTsKICAgICAgICAgIHRoaXMuaW5uZXJMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2hvd1BvcHVwOiBmdW5jdGlvbiBzaG93UG9wdXAoZSkgewogICAgICBpZiAodGhpcy5oYXNEaWFsb2cgPT09IHRydWUpIHsKICAgICAgICB0aGlzLl9fb25Db250cm9sRm9jdXNpbihlKTsKCiAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX19mb2N1cygpOwogICAgICB9CgogICAgICBpZiAodGhpcy4kbGlzdGVuZXJzLmZpbHRlciAhPT0gdm9pZCAwKSB7CiAgICAgICAgdGhpcy5maWx0ZXIodGhpcy5pbnB1dFZhbHVlKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm5vT3B0aW9ucyAhPT0gdHJ1ZSB8fCB0aGlzLiRzY29wZWRTbG90c1snbm8tb3B0aW9uJ10gIT09IHZvaWQgMCkgewogICAgICAgIHRoaXMubWVudSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBoaWRlUG9wdXA6IGZ1bmN0aW9uIGhpZGVQb3B1cCgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKCiAgICAgIHRoaXMuX19jbG9zZU1lbnUoKTsKICAgIH0sCiAgICBfX3Jlc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gX19yZXNldElucHV0VmFsdWUoKSB7CiAgICAgIHRoaXMudXNlSW5wdXQgPT09IHRydWUgJiYgdGhpcy51cGRhdGVJbnB1dFZhbHVlKHRoaXMubXVsdGlwbGUgIT09IHRydWUgJiYgdGhpcy5maWxsSW5wdXQgPT09IHRydWUgJiYgdGhpcy5pbm5lclZhbHVlLmxlbmd0aCA+IDAgPyB0aGlzLl9fZ2V0T3B0aW9uTGFiZWwodGhpcy5pbm5lclZhbHVlWzBdKSB8fCAnJyA6ICcnLCB0cnVlLCB0cnVlKTsKICAgIH0sCiAgICBfX3VwZGF0ZU1lbnU6IGZ1bmN0aW9uIF9fdXBkYXRlTWVudShzaG93KSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHZhciBvcHRpb25JbmRleCA9IC0xOwoKICAgICAgaWYgKHNob3cgPT09IHRydWUpIHsKICAgICAgICBpZiAodGhpcy5pbm5lclZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciB2YWwgPSB0aGlzLl9fZ2V0T3B0aW9uVmFsdWUodGhpcy5pbm5lclZhbHVlWzBdKTsKCiAgICAgICAgICBvcHRpb25JbmRleCA9IHRoaXMub3B0aW9ucy5maW5kSW5kZXgoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgcmV0dXJuIGlzRGVlcEVxdWFsKF90aGlzMTYuX19nZXRPcHRpb25WYWx1ZSh2KSwgdmFsKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5fX3Jlc2V0VmlydHVhbFNjcm9sbChvcHRpb25JbmRleCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0T3B0aW9uSW5kZXgob3B0aW9uSW5kZXgpOwogICAgfSwKICAgIF9fb25QcmVSZW5kZXI6IGZ1bmN0aW9uIF9fb25QcmVSZW5kZXIoKSB7CiAgICAgIHRoaXMuaGFzRGlhbG9nID0gdGhpcy4kcS5wbGF0Zm9ybS5pcy5tb2JpbGUgIT09IHRydWUgJiYgdGhpcy5iZWhhdmlvciAhPT0gJ2RpYWxvZycgPyBmYWxzZSA6IHRoaXMuYmVoYXZpb3IgIT09ICdtZW51JyAmJiAodGhpcy51c2VJbnB1dCA9PT0gdHJ1ZSA/IHRoaXMuJHNjb3BlZFNsb3RzWyduby1vcHRpb24nXSAhPT0gdm9pZCAwIHx8IHRoaXMuJGxpc3RlbmVycy5maWx0ZXIgIT09IHZvaWQgMCB8fCB0aGlzLm5vT3B0aW9ucyA9PT0gZmFsc2UgOiB0cnVlKTsKICAgICAgdGhpcy50cmFuc2l0aW9uU2hvd0NvbXB1dGVkID0gdGhpcy5oYXNEaWFsb2cgPT09IHRydWUgJiYgdGhpcy51c2VJbnB1dCA9PT0gdHJ1ZSAmJiB0aGlzLiRxLnBsYXRmb3JtLmlzLmlvcyA9PT0gdHJ1ZSA/ICdmYWRlJyA6IHRoaXMudHJhbnNpdGlvblNob3c7CiAgICB9LAogICAgX19vblBvc3RSZW5kZXI6IGZ1bmN0aW9uIF9fb25Qb3N0UmVuZGVyKCkgewogICAgICBpZiAodGhpcy5kaWFsb2cgPT09IGZhbHNlICYmIHRoaXMuJHJlZnMubWVudSAhPT0gdm9pZCAwKSB7CiAgICAgICAgdGhpcy4kcmVmcy5tZW51LnVwZGF0ZVBvc2l0aW9uKCk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVNZW51UG9zaXRpb246IGZ1bmN0aW9uIHVwZGF0ZU1lbnVQb3NpdGlvbigpIHsKICAgICAgdGhpcy5fX29uUG9zdFJlbmRlcigpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLmlucHV0VGltZXIpOwogIH0KfSk7"},{"version":3,"sources":["/Users/k17070kk/Flask_Predict_App-master/node_modules/quasar/src/components/select/QSelect.js"],"names":["Vue","QField","QIcon","QChip","QItem","QItemSection","QItemLabel","QMenu","QDialog","isDeepEqual","stop","prevent","stopAndPrevent","normalizeToInterval","shouldIgnoreKey","isKeyCode","mergeSlot","cache","VirtualScroll","CompositionMixin","validateNewValueMode","v","includes","extend","name","mixins","props","value","required","multiple","Boolean","displayValue","String","Number","displayValueSanitize","dropdownIcon","options","type","Array","default","optionValue","Function","optionLabel","optionDisable","hideSelected","hideDropdownIcon","fillInput","maxValues","optionsDense","optionsDark","optionsSelectedClass","optionsCover","optionsSanitize","popupContentClass","popupContentStyle","Object","useInput","useChips","newValueMode","validator","mapOptions","emitValue","inputDebounce","inputClass","inputStyle","tabindex","transitionShow","transitionHide","behavior","data","menu","dialog","optionIndex","inputValue","dialogFieldFocused","watch","innerValue","handler","val","innerValueCache","innerLoading","hasValue","__resetInputValue","filter","immediate","show","__updateMenu","computed","isOptionsDark","isDark","virtualScrollLength","isArray","length","fieldClass","computedInputClass","menuContentClass","virtualScrollHorizontal","mapNull","values","map","__getOption","noOptions","selectedString","opt","__getOptionLabel","join","displayAsText","some","sanitize","computedTabindex","focused","selectedScope","i","index","selected","removeAtIndex","__removeAtIndexAndFocus","toggleOption","optionScope","virtualScrollSliceRange","from","to","slice","disable","__isDisabled","itemProps","clickable","active","activeClass","computedOptionsSelectedClass","manualFocus","dense","dark","__isSelected","itemEvents","click","$q","platform","is","desktop","mousemove","setOptionIndex","dropdownArrowIcon","iconSet","arrow","dropdown","squaredMenu","outlined","standout","borderless","rounded","color","methods","model","$emit","splice","__focus","add","unique","__getOptionValue","push","keepOpen","editable","optValue","$refs","target","focus","updateInputValue","hidePopup","hasDialog","findIndex","moveOptionSelection","offset","skipInputValue","scrollTo","fn","find","label","__onTargetKeyup","e","__onTargetKeypress","__onTargetKeydown","tabShouldSelect","shiftKey","keyCode","__closeMenu","id","targetUid","showPopup","optionsLength","searchBuffer","searchBufferExp","Date","now","char","fromCharCode","toLocaleLowerCase","keyRepeat","searchRe","RegExp","split","test","$nextTick","$listeners","done","mode","console","error","__getVirtualScrollEl","menuContent","__portal","$el","__getVirtualScrollTarget","__getSelection","h","fromDialog","domProps","textContent","$scopedSlots","scope","key","removable","textColor","on","remove","__getControl","child","__getInput","isShadowField","ref","staticClass","attrs","keydown","keyup","keypress","$attrs","__getOptions","option","__padVirtualScroll","concat","__getInnerAppend","loading","input","__onInput","change","__onChange","compositionstart","compositionupdate","compositionend","__onComposition","style","class","autofocus","disabled","readonly","clearTimeout","inputTimer","composing","userInputValue","setTimeout","noFiltering","internal","filterId","afterFn","__getControlEvents","focusout","__onControlFocusout","focusin","__onControlFocusin","__onControlPopupShow","hasPopupOpen","classList","contains","__getControlChild","__getMenu","fit","cover","contentClass","contentStyle","noParentEvent","noRefocus","noFocus","square","separateClosePopup","__onVirtualScrollEvt","__onDialogFieldFocus","window","pageXOffset","scrollX","document","body","scrollLeft","__onDialogFieldBlur","__getDialog","content","$props","for","filled","stackLabel","blur","scopedSlots","rawControl","before","after","position","transitionShowComputed","__onDialogBeforeHide","hide","__onDialogHide","__onDialogShow","__refocusTarget","querySelector","el","activeElement","__resetVirtualScroll","__onPreRender","mobile","ios","__onPostRender","updatePosition","updateMenuPosition","beforeDestroy"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QField from '../field/QField.js'\nimport QIcon from '../icon/QIcon.js'\nimport QChip from '../chip/QChip.js'\n\nimport QItem from '../item/QItem.js'\nimport QItemSection from '../item/QItemSection.js'\nimport QItemLabel from '../item/QItemLabel.js'\n\nimport QMenu from '../menu/QMenu.js'\nimport QDialog from '../dialog/QDialog.js'\n\nimport { isDeepEqual } from '../../utils/is.js'\nimport { stop, prevent, stopAndPrevent } from '../../utils/event.js'\nimport { normalizeToInterval } from '../../utils/format.js'\nimport { shouldIgnoreKey, isKeyCode } from '../../utils/key-composition.js'\nimport { mergeSlot } from '../../utils/slot.js'\nimport { cache } from '../../utils/vm.js'\n\nimport VirtualScroll from '../../mixins/virtual-scroll.js'\nimport CompositionMixin from '../../mixins/composition.js'\n\nconst validateNewValueMode = v => ['add', 'add-unique', 'toggle'].includes(v)\n\nexport default Vue.extend({\n  name: 'QSelect',\n\n  mixins: [ QField, VirtualScroll, CompositionMixin ],\n\n  props: {\n    value: {\n      required: true\n    },\n\n    multiple: Boolean,\n\n    displayValue: [String, Number],\n    displayValueSanitize: Boolean,\n    dropdownIcon: String,\n\n    options: {\n      type: Array,\n      default: () => []\n    },\n\n    optionValue: [Function, String],\n    optionLabel: [Function, String],\n    optionDisable: [Function, String],\n\n    hideSelected: Boolean,\n    hideDropdownIcon: Boolean,\n    fillInput: Boolean,\n\n    maxValues: [Number, String],\n\n    optionsDense: Boolean,\n    optionsDark: {\n      type: Boolean,\n      default: null\n    },\n    optionsSelectedClass: String,\n    optionsCover: Boolean,\n    optionsSanitize: Boolean,\n\n    popupContentClass: String,\n    popupContentStyle: [String, Array, Object],\n\n    useInput: Boolean,\n    useChips: Boolean,\n\n    newValueMode: {\n      type: String,\n      validator: validateNewValueMode\n    },\n\n    mapOptions: Boolean,\n    emitValue: Boolean,\n\n    inputDebounce: {\n      type: [Number, String],\n      default: 500\n    },\n\n    inputClass: [Array, String, Object],\n    inputStyle: [Array, String, Object],\n\n    tabindex: {\n      type: [String, Number],\n      default: 0\n    },\n\n    transitionShow: String,\n    transitionHide: String,\n\n    behavior: {\n      type: String,\n      validator: v => ['default', 'menu', 'dialog'].includes(v),\n      default: 'default'\n    }\n  },\n\n  data () {\n    return {\n      menu: false,\n      dialog: false,\n      optionIndex: -1,\n      inputValue: '',\n      dialogFieldFocused: false\n    }\n  },\n\n  watch: {\n    innerValue: {\n      handler (val) {\n        this.innerValueCache = val\n\n        if (\n          this.useInput === true &&\n          this.fillInput === true &&\n          this.multiple !== true &&\n          // Prevent re-entering in filter while filtering\n          // Also prevent clearing inputValue while filtering\n          this.innerLoading !== true &&\n          ((this.dialog !== true && this.menu !== true) || this.hasValue !== true)\n        ) {\n          this.__resetInputValue()\n          if (this.dialog === true || this.menu === true) {\n            this.filter('')\n          }\n        }\n      },\n      immediate: true\n    },\n\n    menu (show) {\n      this.__updateMenu(show)\n    }\n  },\n\n  computed: {\n    isOptionsDark () {\n      return this.optionsDark === null\n        ? this.isDark\n        : this.optionsDark\n    },\n\n    virtualScrollLength () {\n      return Array.isArray(this.options)\n        ? this.options.length\n        : 0\n    },\n\n    fieldClass () {\n      return `q-select q-field--auto-height q-select--with${this.useInput !== true ? 'out' : ''}-input`\n    },\n\n    computedInputClass () {\n      if (this.hideSelected === true || this.innerValue.length === 0) {\n        return this.inputClass\n      }\n\n      return this.inputClass === void 0\n        ? 'q-field__input--padding'\n        : [this.inputClass, 'q-field__input--padding']\n    },\n\n    menuContentClass () {\n      return (this.virtualScrollHorizontal === true ? 'q-virtual-scroll--horizontal' : '') +\n        (this.popupContentClass ? ' ' + this.popupContentClass : '')\n    },\n\n    innerValue () {\n      const\n        mapNull = this.mapOptions === true && this.multiple !== true,\n        val = this.value !== void 0 && (this.value !== null || mapNull === true)\n          ? (this.multiple === true && Array.isArray(this.value) ? this.value : [ this.value ])\n          : []\n\n      if (this.mapOptions === true && Array.isArray(this.options) === true) {\n        const cache = this.mapOptions === true && this.innerValueCache !== void 0\n          ? this.innerValueCache\n          : []\n        const values = val.map(v => this.__getOption(v, cache))\n\n        return this.value === null && mapNull === true\n          ? values.filter(v => v !== null)\n          : values\n      }\n\n      return val\n    },\n\n    noOptions () {\n      return this.virtualScrollLength === 0\n    },\n\n    selectedString () {\n      return this.innerValue\n        .map(opt => this.__getOptionLabel(opt))\n        .join(', ')\n    },\n\n    displayAsText () {\n      return this.displayValueSanitize === true || (\n        this.displayValue === void 0 && (\n          this.optionsSanitize === true ||\n          this.innerValue.some(opt => opt !== null && opt.sanitize === true)\n        )\n      )\n    },\n\n    computedTabindex () {\n      return this.focused === true ? this.tabindex : -1\n    },\n\n    selectedScope () {\n      return this.innerValue.map((opt, i) => ({\n        index: i,\n        opt,\n        sanitize: this.optionsSanitize === true || opt.sanitize === true,\n        selected: true,\n        removeAtIndex: this.__removeAtIndexAndFocus,\n        toggleOption: this.toggleOption,\n        tabindex: this.computedTabindex\n      }))\n    },\n\n    optionScope () {\n      if (this.virtualScrollLength === 0) {\n        return []\n      }\n\n      const { from, to } = this.virtualScrollSliceRange\n\n      return this.options.slice(from, to).map((opt, i) => {\n        const disable = this.__isDisabled(opt)\n        const index = from + i\n\n        const itemProps = {\n          clickable: true,\n          active: false,\n          activeClass: this.computedOptionsSelectedClass,\n          manualFocus: true,\n          focused: false,\n          disable,\n          tabindex: -1,\n          dense: this.optionsDense,\n          dark: this.isOptionsDark\n        }\n\n        if (disable !== true) {\n          this.__isSelected(opt) === true && (itemProps.active = true)\n          this.optionIndex === index && (itemProps.focused = true)\n        }\n\n        const itemEvents = {\n          click: () => { this.toggleOption(opt) }\n        }\n\n        if (this.$q.platform.is.desktop === true) {\n          itemEvents.mousemove = () => { this.setOptionIndex(index) }\n        }\n\n        return {\n          index,\n          opt,\n          sanitize: this.optionsSanitize === true || opt.sanitize === true,\n          selected: itemProps.active,\n          focused: itemProps.focused,\n          toggleOption: this.toggleOption,\n          setOptionIndex: this.setOptionIndex,\n          itemProps,\n          itemEvents\n        }\n      })\n    },\n\n    dropdownArrowIcon () {\n      return this.dropdownIcon !== void 0\n        ? this.dropdownIcon\n        : this.$q.iconSet.arrow.dropdown\n    },\n\n    squaredMenu () {\n      return this.optionsCover === false &&\n        this.outlined !== true &&\n        this.standout !== true &&\n        this.borderless !== true &&\n        this.rounded !== true\n    },\n\n    computedOptionsSelectedClass () {\n      return this.optionsSelectedClass !== void 0\n        ? this.optionsSelectedClass\n        : (this.color !== void 0 ? `text-${this.color}` : '')\n    }\n  },\n\n  methods: {\n    removeAtIndex (index) {\n      if (index > -1 && index < this.innerValue.length) {\n        if (this.multiple === true) {\n          const model = this.value.slice()\n          this.$emit('remove', { index, value: model.splice(index, 1) })\n          this.$emit('input', model)\n        }\n        else {\n          this.$emit('input', null)\n        }\n      }\n    },\n\n    __removeAtIndexAndFocus (index) {\n      this.removeAtIndex(index)\n      this.__focus()\n    },\n\n    add (opt, unique) {\n      const val = this.emitValue === true\n        ? this.__getOptionValue(opt)\n        : opt\n\n      if (this.multiple !== true) {\n        this.$emit('input', val)\n        return\n      }\n\n      if (this.innerValue.length === 0) {\n        this.$emit('add', { index: 0, value: val })\n        this.$emit('input', this.multiple === true ? [ val ] : val)\n        return\n      }\n\n      if (unique === true && this.__isSelected(opt) === true) {\n        return\n      }\n\n      if (this.maxValues !== void 0 && this.value.length >= this.maxValues) {\n        return\n      }\n\n      const model = this.value.slice()\n\n      this.$emit('add', { index: model.length, value: val })\n      model.push(val)\n      this.$emit('input', model)\n    },\n\n    toggleOption (opt, keepOpen) {\n      if (this.editable !== true || opt === void 0 || this.__isDisabled(opt) === true) {\n        return\n      }\n\n      const optValue = this.__getOptionValue(opt)\n\n      if (this.multiple !== true) {\n        this.$refs.target !== void 0 && this.$refs.target.focus()\n\n        if (keepOpen !== true) {\n          this.updateInputValue(\n            this.fillInput === true ? this.__getOptionLabel(opt) : '',\n            true,\n            true\n          )\n\n          this.hidePopup()\n        }\n\n        if (isDeepEqual(this.__getOptionValue(this.innerValue), optValue) !== true) {\n          this.$emit('input', this.emitValue === true ? optValue : opt)\n        }\n        return\n      }\n\n      (this.hasDialog !== true || this.dialogFieldFocused === true) && this.__focus()\n\n      if (this.innerValue.length === 0) {\n        const val = this.emitValue === true ? optValue : opt\n        this.$emit('add', { index: 0, value: val })\n        this.$emit('input', this.multiple === true ? [ val ] : val)\n        return\n      }\n\n      const\n        model = this.value.slice(),\n        index = this.innerValue.findIndex(v => isDeepEqual(this.__getOptionValue(v), optValue))\n\n      if (index > -1) {\n        this.$emit('remove', { index, value: model.splice(index, 1) })\n      }\n      else {\n        if (this.maxValues !== void 0 && model.length >= this.maxValues) {\n          return\n        }\n\n        const val = this.emitValue === true ? optValue : opt\n\n        this.$emit('add', { index: model.length, value: val })\n        model.push(val)\n      }\n\n      this.$emit('input', model)\n    },\n\n    setOptionIndex (index) {\n      if (this.$q.platform.is.desktop !== true) { return }\n\n      const val = index > -1 && index < this.virtualScrollLength\n        ? index\n        : -1\n\n      if (this.optionIndex !== val) {\n        this.optionIndex = val\n      }\n    },\n\n    moveOptionSelection (offset = 1, skipInputValue) {\n      if (this.menu === true) {\n        let index = this.optionIndex\n        do {\n          index = normalizeToInterval(\n            index + offset,\n            -1,\n            this.virtualScrollLength - 1\n          )\n        }\n        while (index !== -1 && index !== this.optionIndex && this.__isDisabled(this.options[index]) === true)\n\n        if (this.optionIndex !== index) {\n          this.setOptionIndex(index)\n          this.scrollTo(index)\n\n          if (skipInputValue !== true && index >= 0 && this.useInput === true && this.fillInput === true) {\n            const inputValue = this.__getOptionLabel(this.options[index])\n            if (this.inputValue !== inputValue) {\n              this.inputValue = inputValue\n            }\n          }\n        }\n      }\n    },\n\n    __getOption (value, innerValueCache) {\n      const fn = opt => isDeepEqual(this.__getOptionValue(opt), value)\n      return this.options.find(fn) || innerValueCache.find(fn) || value\n    },\n\n    __getOptionValue (opt) {\n      if (typeof this.optionValue === 'function') {\n        return this.optionValue(opt)\n      }\n      if (Object(opt) === opt) {\n        return typeof this.optionValue === 'string'\n          ? opt[this.optionValue]\n          : opt.value\n      }\n      return opt\n    },\n\n    __getOptionLabel (opt) {\n      if (typeof this.optionLabel === 'function') {\n        return this.optionLabel(opt)\n      }\n      if (Object(opt) === opt) {\n        return typeof this.optionLabel === 'string'\n          ? opt[this.optionLabel]\n          : opt.label\n      }\n      return opt\n    },\n\n    __isDisabled (opt) {\n      if (typeof this.optionDisable === 'function') {\n        return this.optionDisable(opt) === true\n      }\n      if (Object(opt) === opt) {\n        return typeof this.optionDisable === 'string'\n          ? opt[this.optionDisable] === true\n          : opt.disable === true\n      }\n      return false\n    },\n\n    __isSelected (opt) {\n      const val = this.__getOptionValue(opt)\n      return this.innerValue\n        .find(v => isDeepEqual(this.__getOptionValue(v), val)) !== void 0\n    },\n\n    __onTargetKeyup (e) {\n      // if ESC and we have an opened menu\n      // then stop propagation (might be caught by a QDialog\n      // and so it will also close the QDialog, which is wrong)\n      if (isKeyCode(e, 27) === true && this.menu === true) {\n        stop(e)\n        // on ESC we need to close the dialog also\n        this.hidePopup()\n      }\n\n      this.$emit('keyup', e)\n    },\n\n    __onTargetKeypress (e) {\n      this.$emit('keypress', e)\n    },\n\n    __onTargetKeydown (e) {\n      this.$emit('keydown', e)\n\n      if (shouldIgnoreKey(e) === true) {\n        return\n      }\n\n      const tabShouldSelect = e.shiftKey !== true && this.multiple !== true && this.optionIndex > -1\n\n      // escape\n      if (e.keyCode === 27) {\n        return\n      }\n\n      // tab\n      if (e.keyCode === 9 && tabShouldSelect === false) {\n        this.__closeMenu()\n        return\n      }\n\n      if (e.target === void 0 || e.target.id !== this.targetUid) { return }\n\n      // down\n      if (\n        e.keyCode === 40 &&\n        this.innerLoading !== true &&\n        this.menu === false\n      ) {\n        stopAndPrevent(e)\n        this.showPopup()\n        return\n      }\n\n      // backspace\n      if (\n        e.keyCode === 8 &&\n        this.multiple === true &&\n        this.inputValue.length === 0 &&\n        Array.isArray(this.value)\n      ) {\n        this.removeAtIndex(this.value.length - 1)\n        return\n      }\n\n      // up, down\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        stopAndPrevent(e)\n        this.moveOptionSelection(e.keyCode === 38 ? -1 : 1)\n      }\n\n      const optionsLength = this.virtualScrollLength\n\n      // keyboard search when not having use-input\n      if (optionsLength > 0 && this.useInput !== true && e.keyCode >= 48 && e.keyCode <= 90) {\n        this.menu !== true && this.showPopup(e)\n\n        // clear search buffer if expired\n        if (this.searchBuffer === void 0 || this.searchBufferExp < Date.now()) {\n          this.searchBuffer = ''\n        }\n\n        const\n          char = String.fromCharCode(e.keyCode).toLocaleLowerCase(),\n          keyRepeat = this.searchBuffer.length === 1 && this.searchBuffer[0] === char\n\n        this.searchBufferExp = Date.now() + 1500\n        if (keyRepeat === false) {\n          this.searchBuffer += char\n        }\n\n        const searchRe = new RegExp('^' + this.searchBuffer.split('').join('.*'), 'i')\n\n        let index = this.optionIndex\n\n        if (keyRepeat === true || searchRe.test(this.__getOptionLabel(this.options[index])) !== true) {\n          do {\n            index = normalizeToInterval(index + 1, -1, optionsLength - 1)\n          }\n          while (index !== this.optionIndex && (\n            this.__isDisabled(this.options[index]) === true ||\n            searchRe.test(this.__getOptionLabel(this.options[index])) !== true\n          ))\n        }\n\n        if (this.optionIndex !== index) {\n          this.$nextTick(() => {\n            this.setOptionIndex(index)\n            this.scrollTo(index)\n\n            if (index >= 0 && this.useInput === true && this.fillInput === true) {\n              const inputValue = this.__getOptionLabel(this.options[index])\n              if (this.inputValue !== inputValue) {\n                this.inputValue = inputValue\n              }\n            }\n          })\n        }\n\n        return\n      }\n\n      // enter, space (when not using use-input), or tab (when not using multiple and option selected)\n      // same target is checked above\n      if (\n        e.keyCode !== 13 &&\n        (this.useInput === true || e.keyCode !== 32) &&\n        (tabShouldSelect === false || e.keyCode !== 9)\n      ) { return }\n\n      e.keyCode !== 9 && stopAndPrevent(e)\n\n      if (this.optionIndex > -1 && this.optionIndex < optionsLength) {\n        this.toggleOption(this.options[this.optionIndex])\n        return\n      }\n\n      if (\n        this.inputValue.length > 0 &&\n        (this.newValueMode !== void 0 || this.$listeners['new-value'] !== void 0)\n      ) {\n        const done = (val, mode) => {\n          if (mode) {\n            if (validateNewValueMode(mode) !== true) {\n              console.error('QSelect: invalid new value mode - ' + mode)\n              return\n            }\n          }\n          else {\n            mode = this.newValueMode\n          }\n\n          if (val !== void 0 && val !== null) {\n            this[mode === 'toggle' ? 'toggleOption' : 'add'](\n              val,\n              mode === 'add-unique'\n            )\n          }\n\n          this.updateInputValue('', this.multiple !== true, true)\n\n          if (this.multiple !== true) {\n            this.$refs.target !== void 0 && this.$refs.target.focus()\n            this.hidePopup()\n          }\n        }\n\n        if (this.$listeners['new-value'] !== void 0) {\n          this.$emit('new-value', this.inputValue, done)\n\n          if (this.multiple !== true) {\n            return\n          }\n        }\n        else {\n          done(this.inputValue)\n        }\n      }\n\n      if (this.menu === true) {\n        this.__closeMenu()\n      }\n      else if (this.innerLoading !== true) {\n        this.showPopup()\n      }\n    },\n\n    __getVirtualScrollEl () {\n      return this.hasDialog === true\n        ? this.$refs.menuContent\n        : (\n          this.$refs.menu !== void 0 && this.$refs.menu.__portal !== void 0\n            ? this.$refs.menu.__portal.$el\n            : void 0\n        )\n    },\n\n    __getVirtualScrollTarget () {\n      return this.__getVirtualScrollEl()\n    },\n\n    __getSelection (h, fromDialog) {\n      if (this.hideSelected === true) {\n        return fromDialog !== true && this.hasDialog === true\n          ? [\n            h('span', {\n              domProps: {\n                textContent: this.inputValue\n              }\n            })\n          ]\n          : []\n      }\n\n      if (this.$scopedSlots['selected-item'] !== void 0) {\n        return this.selectedScope.map(scope => this.$scopedSlots['selected-item'](scope)).slice()\n      }\n\n      if (this.$scopedSlots.selected !== void 0) {\n        return this.$scopedSlots.selected().slice()\n      }\n\n      if (this.useChips === true) {\n        return this.selectedScope.map((scope, i) => h(QChip, {\n          key: 'option-' + i,\n          props: {\n            removable: this.__isDisabled(scope.opt) !== true,\n            dense: true,\n            textColor: this.color,\n            tabindex: this.computedTabindex\n          },\n          on: cache(this, 'rem#' + i, {\n            remove () { scope.removeAtIndex(i) }\n          })\n        }, [\n          h('span', {\n            domProps: {\n              [scope.sanitize === true ? 'textContent' : 'innerHTML']: this.__getOptionLabel(scope.opt)\n            }\n          })\n        ]))\n      }\n\n      return [\n        h('span', {\n          domProps: {\n            [this.displayAsText ? 'textContent' : 'innerHTML']: this.displayValue !== void 0\n              ? this.displayValue\n              : this.selectedString\n          }\n        })\n      ]\n    },\n\n    __getControl (h, fromDialog) {\n      const child = this.__getSelection(h, fromDialog)\n\n      if (this.useInput === true && (fromDialog === true || this.hasDialog === false)) {\n        child.push(this.__getInput(h, fromDialog))\n      }\n      else if (this.editable === true) {\n        const isShadowField = this.hasDialog === true && fromDialog !== true && this.menu === true\n\n        child.push(h('div', {\n          // there can be only one (when dialog is opened the control in dialog should be target)\n          ref: isShadowField === true ? void 0 : 'target',\n          staticClass: 'no-outline',\n          attrs: {\n            tabindex: this.tabindex,\n            id: isShadowField === true ? void 0 : this.targetUid\n          },\n          on: cache(this, 'ctrl', {\n            keydown: this.__onTargetKeydown,\n            keyup: this.__onTargetKeyup,\n            keypress: this.__onTargetKeypress\n          })\n        }))\n      }\n\n      return h('div', { staticClass: 'q-field__native row items-center', attrs: this.$attrs }, child)\n    },\n\n    __getOptions (h) {\n      if (this.menu !== true) {\n        return void 0\n      }\n\n      const fn = this.$scopedSlots.option !== void 0\n        ? this.$scopedSlots.option\n        : scope => h(QItem, {\n          key: scope.index,\n          props: scope.itemProps,\n          on: scope.itemEvents\n        }, [\n          h(QItemSection, [\n            h(QItemLabel, {\n              domProps: {\n                [scope.sanitize === true ? 'textContent' : 'innerHTML']: this.__getOptionLabel(scope.opt)\n              }\n            })\n          ])\n        ])\n\n      let options = this.__padVirtualScroll(h, 'div', this.optionScope.map(fn))\n\n      if (this.$scopedSlots['before-options'] !== void 0) {\n        options = this.$scopedSlots['before-options']().concat(options)\n      }\n\n      return mergeSlot(options, this, 'after-options')\n    },\n\n    __getInnerAppend (h) {\n      return this.loading !== true && this.innerLoading !== true && this.hideDropdownIcon !== true\n        ? [\n          h(QIcon, {\n            staticClass: 'q-select__dropdown-icon',\n            props: { name: this.dropdownArrowIcon }\n          })\n        ]\n        : null\n    },\n\n    __getInput (h, fromDialog) {\n      const on = {\n        input: this.__onInput,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        change: this.__onChange,\n        keydown: this.__onTargetKeydown,\n        keyup: this.__onTargetKeyup,\n        keypress: this.__onTargetKeypress\n      }\n\n      on.compositionstart = on.compositionupdate = on.compositionend = this.__onComposition\n\n      if (this.hasDialog === true) {\n        on.click = stop\n      }\n\n      return h('input', {\n        ref: 'target',\n        staticClass: 'q-field__input q-placeholder col',\n        style: this.inputStyle,\n        class: this.computedInputClass,\n        domProps: { value: this.inputValue !== void 0 ? this.inputValue : '' },\n        attrs: {\n          // required for Android in order to show ENTER key when in form\n          type: 'search',\n          ...this.$attrs,\n          tabindex: this.tabindex,\n          'data-autofocus': fromDialog === true ? false : this.autofocus,\n          id: this.targetUid,\n          disabled: this.disable === true,\n          readonly: this.readonly === true\n        },\n        on: cache(this, 'inp#' + this.hasDialog, on)\n      })\n    },\n\n    __onChange (e) {\n      this.__onComposition(e)\n    },\n\n    __onInput (e) {\n      clearTimeout(this.inputTimer)\n\n      if (e && e.target && e.target.composing === true) {\n        return\n      }\n\n      this.inputValue = e.target.value || ''\n      // mark it here as user input so that if updateInputValue is called\n      // before filter is called the indicator is reset\n      this.userInputValue = true\n\n      if (this.$listeners.filter !== void 0) {\n        this.inputTimer = setTimeout(() => {\n          this.filter(this.inputValue)\n        }, this.inputDebounce)\n      }\n    },\n\n    updateInputValue (val, noFiltering, internal) {\n      this.userInputValue = internal !== true\n\n      if (this.useInput === true) {\n        if (this.inputValue !== val) {\n          this.inputValue = val\n        }\n\n        noFiltering !== true && this.filter(val)\n      }\n    },\n\n    filter (val) {\n      if (this.$listeners.filter === void 0 || this.focused !== true) {\n        return\n      }\n\n      if (this.innerLoading === true) {\n        this.$emit('filter-abort')\n      }\n      else {\n        this.innerLoading = true\n      }\n\n      if (\n        val !== '' &&\n        this.multiple !== true &&\n        this.innerValue.length > 0 &&\n        this.userInputValue !== true &&\n        val === this.__getOptionLabel(this.innerValue[0])\n      ) {\n        val = ''\n      }\n\n      const filterId = setTimeout(() => {\n        this.menu === true && (this.menu = false)\n      }, 10)\n      clearTimeout(this.filterId)\n      this.filterId = filterId\n\n      this.$emit(\n        'filter',\n        val,\n        (fn, afterFn) => {\n          if (this.focused === true && this.filterId === filterId) {\n            clearTimeout(this.filterId)\n\n            typeof fn === 'function' && fn()\n\n            this.$nextTick(() => {\n              this.innerLoading = false\n              if (this.menu === true) {\n                this.__updateMenu(true)\n              }\n              else {\n                this.menu = true\n              }\n\n              typeof afterFn === 'function' && this.$nextTick(() => { afterFn(this) })\n            })\n          }\n        },\n        () => {\n          if (this.focused === true && this.filterId === filterId) {\n            clearTimeout(this.filterId)\n            this.innerLoading = false\n          }\n          this.menu === true && (this.menu = false)\n        }\n      )\n    },\n\n    __getControlEvents () {\n      const focusout = e => {\n        this.__onControlFocusout(e, () => {\n          this.__resetInputValue()\n          this.__closeMenu()\n        })\n      }\n\n      return {\n        focusin: this.__onControlFocusin,\n        focusout,\n        'popup-show': this.__onControlPopupShow,\n        'popup-hide': e => {\n          e !== void 0 && stop(e)\n          this.$emit('popup-hide', e)\n          this.hasPopupOpen = false\n          focusout(e)\n        },\n        click: e => {\n          if (this.hasDialog !== true) {\n            // label from QField will propagate click on the input (except IE)\n            if (\n              (this.useInput === true && e.target.classList.contains('q-field__input') !== true) ||\n              (this.useInput !== true && e.target.classList.contains('no-outline') === true)\n            ) {\n              return\n            }\n\n            if (this.menu === true) {\n              this.__closeMenu()\n              this.$refs.target !== void 0 && this.$refs.target.focus()\n              return\n            }\n          }\n\n          this.showPopup(e)\n        }\n      }\n    },\n\n    __getControlChild (h) {\n      if (\n        this.editable !== false && (\n          this.dialog === true || // dialog always has menu displayed, so need to render it\n          this.noOptions !== true ||\n          this.$scopedSlots['no-option'] !== void 0\n        )\n      ) {\n        return this[`__get${this.hasDialog === true ? 'Dialog' : 'Menu'}`](h)\n      }\n    },\n\n    __getMenu (h) {\n      const child = this.noOptions === true\n        ? (\n          this.$scopedSlots['no-option'] !== void 0\n            ? this.$scopedSlots['no-option']({ inputValue: this.inputValue })\n            : null\n        )\n        : this.__getOptions(h)\n\n      return h(QMenu, {\n        ref: 'menu',\n        props: {\n          value: this.menu,\n          fit: true,\n          cover: this.optionsCover === true && this.noOptions !== true && this.useInput !== true,\n          contentClass: this.menuContentClass,\n          contentStyle: this.popupContentStyle,\n          dark: this.isOptionsDark,\n          noParentEvent: true,\n          noRefocus: true,\n          noFocus: true,\n          square: this.squaredMenu,\n          transitionShow: this.transitionShow,\n          transitionHide: this.transitionHide,\n          separateClosePopup: true\n        },\n        on: cache(this, 'menu', {\n          '&scroll': this.__onVirtualScrollEvt,\n          'before-hide': this.__closeMenu\n        })\n      }, child)\n    },\n\n    __onDialogFieldFocus (e) {\n      stop(e)\n      this.$refs.target !== void 0 && this.$refs.target.focus()\n      this.dialogFieldFocused = true\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, 0)\n    },\n\n    __onDialogFieldBlur (e) {\n      stop(e)\n      this.$nextTick(() => {\n        this.dialogFieldFocused = false\n      })\n    },\n\n    __getDialog (h) {\n      const content = [\n        h(QField, {\n          staticClass: `col-auto ${this.fieldClass}`,\n          props: {\n            ...this.$props,\n            for: this.targetUid,\n            dark: this.isOptionsDark,\n            square: true,\n            loading: this.innerLoading,\n            filled: true,\n            stackLabel: this.inputValue.length > 0\n          },\n          on: {\n            ...this.$listeners,\n            focus: this.__onDialogFieldFocus,\n            blur: this.__onDialogFieldBlur\n          },\n          scopedSlots: {\n            ...this.$scopedSlots,\n            rawControl: () => this.__getControl(h, true),\n            before: void 0,\n            after: void 0\n          }\n        })\n      ]\n\n      this.menu === true && content.push(\n        h('div', {\n          ref: 'menuContent',\n          staticClass: 'scroll',\n          class: this.menuContentClass,\n          style: this.popupContentStyle,\n          on: cache(this, 'virtMenu', {\n            click: prevent,\n            '&scroll': this.__onVirtualScrollEvt\n          })\n        }, (\n          this.noOptions === true\n            ? (\n              this.$scopedSlots['no-option'] !== void 0\n                ? this.$scopedSlots['no-option']({ inputValue: this.inputValue })\n                : null\n            )\n            : this.__getOptions(h)\n        ))\n      )\n\n      return h(QDialog, {\n        ref: 'dialog',\n        props: {\n          value: this.dialog,\n          dark: this.isOptionsDark,\n          position: this.useInput === true ? 'top' : void 0,\n          transitionShow: this.transitionShowComputed,\n          transitionHide: this.transitionHide\n        },\n        on: cache(this, 'dialog', {\n          'before-hide': this.__onDialogBeforeHide,\n          hide: this.__onDialogHide,\n          show: this.__onDialogShow\n        })\n      }, [\n        h('div', {\n          staticClass: 'q-select__dialog' +\n            (this.isOptionsDark === true ? ' q-select__dialog--dark q-dark' : '') +\n            (this.dialogFieldFocused === true ? ' q-select__dialog--focused' : '')\n        }, content)\n      ])\n    },\n\n    __onDialogBeforeHide () {\n      this.$refs.dialog.__refocusTarget = this.$el.querySelector('.q-field__native > [tabindex]:last-child')\n      this.focused = false\n    },\n\n    __onDialogHide (e) {\n      this.hidePopup()\n      this.$emit('blur', e)\n      this.__resetInputValue()\n    },\n\n    __onDialogShow () {\n      const el = document.activeElement\n      // IE can have null document.activeElement\n      if (\n        (el === null || el.id !== this.targetUid) &&\n        this.$refs.target !== el &&\n        this.$refs.target !== void 0\n      ) {\n        this.$refs.target.focus()\n      }\n    },\n\n    __closeMenu () {\n      if (this.dialog === true) {\n        return\n      }\n\n      if (this.menu === true) {\n        this.menu = false\n      }\n\n      if (this.focused === false) {\n        clearTimeout(this.filterId)\n        this.filterId = void 0\n\n        if (this.innerLoading === true) {\n          this.$emit('filter-abort')\n          this.innerLoading = false\n        }\n      }\n    },\n\n    showPopup (e) {\n      if (this.hasDialog === true) {\n        this.__onControlFocusin(e)\n        this.dialog = true\n      }\n      else {\n        this.__focus()\n      }\n\n      if (this.$listeners.filter !== void 0) {\n        this.filter(this.inputValue)\n      }\n      else if (this.noOptions !== true || this.$scopedSlots['no-option'] !== void 0) {\n        this.menu = true\n      }\n    },\n\n    hidePopup () {\n      this.dialog = false\n      this.__closeMenu()\n    },\n\n    __resetInputValue () {\n      this.useInput === true && this.updateInputValue(\n        this.multiple !== true && this.fillInput === true && this.innerValue.length > 0\n          ? this.__getOptionLabel(this.innerValue[0]) || ''\n          : '',\n        true,\n        true\n      )\n    },\n\n    __updateMenu (show) {\n      let optionIndex = -1\n\n      if (show === true) {\n        if (this.innerValue.length > 0) {\n          const val = this.__getOptionValue(this.innerValue[0])\n          optionIndex = this.options.findIndex(v => isDeepEqual(this.__getOptionValue(v), val))\n        }\n\n        this.__resetVirtualScroll(optionIndex)\n      }\n\n      this.setOptionIndex(optionIndex)\n    },\n\n    __onPreRender () {\n      this.hasDialog = this.$q.platform.is.mobile !== true && this.behavior !== 'dialog'\n        ? false\n        : this.behavior !== 'menu' && (\n          this.useInput === true\n            ? this.$scopedSlots['no-option'] !== void 0 || this.$listeners.filter !== void 0 || this.noOptions === false\n            : true\n        )\n\n      this.transitionShowComputed = this.hasDialog === true && this.useInput === true && this.$q.platform.is.ios === true\n        ? 'fade'\n        : this.transitionShow\n    },\n\n    __onPostRender () {\n      if (this.dialog === false && this.$refs.menu !== void 0) {\n        this.$refs.menu.updatePosition()\n      }\n    },\n\n    updateMenuPosition () {\n      this.__onPostRender()\n    }\n  },\n\n  beforeDestroy () {\n    clearTimeout(this.inputTimer)\n  }\n})\n"]}]}